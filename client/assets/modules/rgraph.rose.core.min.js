RGraph=window.RGraph||{isRGraph:!0},function(win,doc,undefined){var RG=RGraph,ua=navigator.userAgent,ma=Math;RG.Highlight={},RG.Registry={},RG.Registry.store=[],RG.Registry.store["chart.event.handlers"]=[],RG.Registry.store.__rgraph_event_listeners__=[],RG.Background={},RG.background={},RG.objects=[],RG.Resizing={},RG.events=[],RG.cursor=[],RG.Effects=RG.Effects||{},RG.cache=[],RG.ObjectRegistry={},RG.ObjectRegistry.objects={},RG.ObjectRegistry.objects.byUID=[],RG.ObjectRegistry.objects.byCanvasID=[],RG.PI=ma.PI,RG.HALFPI=RG.PI/2,RG.TWOPI=2*RG.PI,RG.ISFF=-1!=ua.indexOf("Firefox"),RG.ISOPERA=-1!=ua.indexOf("Opera"),RG.ISCHROME=-1!=ua.indexOf("Chrome"),RG.ISSAFARI=-1!=ua.indexOf("Safari")&&!RG.ISCHROME,RG.ISWEBKIT=-1!=ua.indexOf("WebKit"),RG.ISIE=ua.indexOf("Trident")>0||navigator.userAgent.indexOf("MSIE")>0,RG.ISIE6=ua.indexOf("MSIE 6")>0,RG.ISIE7=ua.indexOf("MSIE 7")>0,RG.ISIE8=ua.indexOf("MSIE 8")>0,RG.ISIE9=ua.indexOf("MSIE 9")>0,RG.ISIE10=ua.indexOf("MSIE 10")>0,RG.ISOLD=RGraph.ISIE6||RGraph.ISIE7||RGraph.ISIE8,RG.ISIE11UP=-1==ua.indexOf("MSIE")&&ua.indexOf("Trident")>0,RG.ISIE10UP=RG.ISIE10||RG.ISIE11UP,RG.ISIE9UP=RG.ISIE9||RG.ISIE10UP,RG.getScale=function(t,e){if(0==t)return["0.2","0.4","0.6","0.8","1.0"];var r=t;if(1>=t){if(t>.5)return[.2,.4,.6,.8,Number(1).toFixed(1)];if(t>=.1)return e.Get("chart.scale.round")?[.2,.4,.6,.8,1]:[.1,.2,.3,.4,.5];for(var a=t,i=0;1.01>a;)i+=1,a*=10;var o=["2e-"+i,"4e-"+i,"6e-"+i,"8e-"+i,"10e-"+i];return"5e-"+i>=t&&(o=["1e-"+i,"2e-"+i,"3e-"+i,"4e-"+i,"5e-"+i]),o}String(t).indexOf(".")>0&&(t=String(t).replace(/\.\d+$/,""));for(var n=ma.pow(10,Number(String(Number(t)).length-1)),s=n;t>s;)s+=n/2;return Number(r)>Number(s)&&(s+=n/2),10>t&&(s=Number(r)<=5?5:10),e&&"boolean"==typeof e.Get("chart.scale.round")&&e.Get("chart.scale.round")&&(s=10*n),[.2*s,.4*s,.6*s,.8*s,s]},RG.getScale2=function(t,e){var r=(t.canvas,t.context,t.properties),a="number"==typeof e["ylabels.count"]?e["ylabels.count"]:5,i="string"==typeof e["units.pre"]?e["units.pre"]:"",o="string"==typeof e["units.post"]?e["units.post"]:"",n=Number(e.max),s="number"==typeof e.min?e.min:0,h=e.strict,c=Number(e["scale.decimals"]),l=e["scale.point"],u=e["scale.thousand"],g=n,d=e["scale.round"],f={max:1,labels:[]};if(n)if(1>=n&&!h)if(n>.5){n=1,s=s,f.min=s;for(var p=0;a>p;++p){var m=((n-s)/a*(p+1)+s).toFixed(c);f.labels.push(i+m+o)}}else if(n>=.1){n=.5,s=s,f={max:.5,min:s,labels:[]};for(var p=0;a>p;++p){var m=(((n-s)/a+s)*(p+1)).toFixed(c);f.labels.push(i+m+o)}}else{f={min:s,labels:[]};var y=String(n);if(y.indexOf("e")>0)var v=ma.abs(y.substring(y.indexOf("e")+1));else var v=String(n).length-2;for(var n=1/ma.pow(10,v-1),p=0;a>p;++p){var m=((n-s)/a+s)*(p+1);m=m.toExponential(),m=m.split(/e/),m[0]=ma.round(m[0]),m=m.join("e"),f.labels.push(m)}tmp=f.labels[f.labels.length-1].split(/e/),tmp[0]+=0,tmp[1]=Number(tmp[1])-1,tmp=tmp[0]+"e"+tmp[1],f.labels[f.labels.length-1]=tmp;for(var p=0;p<f.labels.length;++p)f.labels[p]=i+f.labels[p]+o;f.max=Number(n)}else if(h){if("number"==typeof n&&h){for(var p=0;a>p;++p)f.labels.push(RG.number_format(t,((p+1)/a*(n-s)+s).toFixed(c),i,o));f.max=n}}else{n=ma.ceil(n);for(var b=ma.pow(10,ma.max(1,Number(String(Number(n)-Number(s)).length-1))),R=b;n>R;)R+=b/2;Number(g)>Number(R)&&(R+=b/2),10>=n&&(R=Number(g)<=5?5:10),t&&"boolean"==typeof d&&d&&(R=10*b),f.max=R;var G=r["chart.scale.point"],x=r["chart.scale.thousand"];t.Set("chart.scale.thousand",u),t.Set("chart.scale.point",l);for(var p=0;a>p;++p)f.labels.push(RG.number_format(t,((p+1)/a*(R-s)+s).toFixed(c),i,o));t.Set("chart.scale.thousand",x),t.Set("chart.scale.point",G)}else for(var n=1,f={max:1,min:0,labels:[]},p=0;a>p;++p){var m=(((n-s)/a+s)*(p+1)).toFixed(c);f.labels.push(i+m+o)}return f.units_pre=i,f.units_post=o,f.point=l,f.decimals=c,f.thousand=u,f.numlabels=a,f.round=Boolean(d),f.min=s,f},RG.arrayClone=RG.array_clone=function(t){if(null===t||"object"!=typeof t)return t;for(var e=[],r=0,a=t.length;a>r;++r)e[r]="number"==typeof t[r]?function(t){return Number(t)}(t[r]):"string"==typeof t[r]?function(t){return String(t)}(t[r]):"function"==typeof t[r]?t[r]:RG.array_clone(t[r]);return e},RG.arrayMax=RG.array_max=function(t){var e=null,r=Math;if("number"==typeof t)return t;if(RG.is_null(t))return 0;for(var a=0,i=t.length;i>a;++a)if("number"==typeof t[a]){var o=arguments[1]?r.abs(t[a]):t[a];e="number"==typeof e?r.max(e,o):o}return e},RG.arrayPad=RG.array_pad=function(t,e){if(t.length<e)for(var r=arguments[2]?arguments[2]:null,a=t.length;e>a;a+=1)t[a]=r;return t},RG.arraySum=RG.array_sum=function(t){if("number"==typeof t)return t;if(RG.is_null(t))return 0;var e,r,a=t.length;for(e=0,r=0;a>e;r+=t[e++]);return r},RG.arrayLinearize=RG.array_linearize=function(){for(var t=[],e=arguments,r=0,a=e.length;a>r;++r)if("object"==typeof e[r]&&e[r])for(var i=0,o=e[r].length;o>i;++i)for(var n=RG.array_linearize(e[r][i]),s=0,h=n.length;h>s;++s)t.push(n[s]);else t.push(e[r]);return t},RG.arrayShift=RG.array_shift=function(t){for(var e=[],r=1,a=t.length;a>r;++r)e.push(t[r]);return e},RG.arrayReverse=RG.array_reverse=function(t){for(var e=[],r=t.length-1;r>=0;r-=1)e.push(t[r]);return e},RG.clear=RG.Clear=function(t){var e=t.__object__,r=t.getContext("2d"),a=arguments[1]||e&&e.get("clearto");if(t){if(RG.FireCustomEvent(e,"onbeforeclear"),RG.ISIE8&&!a&&(a="white"),!a||a&&"rgba(0,0,0,0)"===a||"transparent"===a?(r.clearRect(0,0,t.width,t.height),r.globalCompositeOperation="source-over"):(r.fillStyle=a,r.beginPath(),RG.ISIE8?r.fillRect(0,0,t.width,t.height):r.fillRect(-10,-10,t.width+20,t.height+20),r.fill()),RG.Registry.Get("chart.background.image."+t.id)){var i=RG.Registry.Get("chart.background.image."+t.id);i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px"}RG.Registry.Get("chart.tooltip")&&RG.HideTooltip(t),t.style.cursor="default",RG.FireCustomEvent(e,"onclear")}},RG.drawTitle=RG.DrawTitle=function(t,e,r){var a=canvas=t.canvas,i=context=t.context,o=t.properties;if(arguments[5])var a=canvas=arguments[5].canvas,i=context=arguments[5].context;var n=o["chart.gutter.left"],s=o["chart.gutter.right"],r=r,h=o["chart.gutter.bottom"],c=arguments[4]?arguments[4]:12,l=o["chart.title.bold"],u=arguments[3]?arguments[3]:(a.width-n-s)/2+n,g=o["chart.key.position"],d=o["chart.title.vpos"],f=o["chart.title.hpos"],p=o["chart.title.background"],m=o["chart.title.x"],y=o["chart.title.y"],v="center",b="center";if("bar"==t.type&&"3d"==o["chart.variant"]&&(g="gutter"),i.beginPath(),i.fillStyle=o["chart.text.color"]?o["chart.text.color"]:"black",g&&"gutter"!=g)var b="center";else if(g)var b="bottom";else var b="center";if("number"==typeof o["chart.title.vpos"]?(d=o["chart.title.vpos"]*r,"top"===o["chart.xaxispos"]&&(d=o["chart.title.vpos"]*h+r+(a.height-r-h))):(d=r-c-5,"top"===o["chart.xaxispos"]&&(d=a.height-h+c+5)),"number"==typeof f&&(u=f*a.width),"number"==typeof m&&(u=m),"number"==typeof y&&(d=y),"string"==typeof o["chart.title.halign"]&&(v=o["chart.title.halign"]),"string"==typeof o["chart.title.valign"]&&(b=o["chart.title.valign"]),null!==typeof o["chart.title.color"]){var R=i.fillStyle,G=o["chart.title.color"];i.fillStyle=G?G:"black"}var x=o["chart.text.font"];"string"==typeof o["chart.title.font"]&&(x=o["chart.title.font"]),RG.Text2(i,{font:x,size:c,x:u,y:d,text:e,valign:b,halign:v,bounding:null!=p,"bounding.fill":p,bold:l,tag:"title"}),i.fillStyle=R},RG.getMouseXY=function(t){var e,r,a=t.target,i=a,o=i.style,n=0,s=0,h="fixed"==i.style.position,c=parseInt(o.borderLeftWidth)||0,l=parseInt(o.borderTopWidth)||0,u=parseInt(o.paddingLeft)||0,g=parseInt(o.paddingTop)||0,d=c+u,f=l+g;if("number"==typeof t.offsetX&&"number"==typeof t.offsetY)h?RG.ISOPERA?(e=t.offsetX,r=t.offsetY):RG.ISWEBKIT?(e=t.offsetX-u-c,r=t.offsetY-g-l):RG.ISIE?(e=t.offsetX-u,r=t.offsetY-g):(e=t.offsetX,r=t.offsetY):RG.ISIE||RG.ISOPERA?RG.ISIE?(e=t.offsetX-u,r=t.offsetY-g):(e=t.offsetX,r=t.offsetY):(e=t.offsetX-c-u,r=t.offsetY-l-g);else{if("undefined"!=typeof a.offsetParent)do n+=a.offsetLeft,s+=a.offsetTop;while(a=a.offsetParent);e=t.pageX-n-d,r=t.pageY-s-f,e-=2*(parseInt(document.body.style.borderLeftWidth)||0),r-=2*(parseInt(document.body.style.borderTopWidth)||0)}return[e,r]},RG.getCanvasXY=function(t){var e=0,r=0,a=t;do e+=a.offsetLeft,r+=a.offsetTop,"table"==a.tagName.toLowerCase()&&(RG.ISCHROME||RG.ISSAFARI)&&(e+=parseInt(a.border)||0,r+=parseInt(a.border)||0),a=a.offsetParent;while(a&&"body"!=a.tagName.toLowerCase());var i=t.style.paddingLeft?parseInt(t.style.paddingLeft):0,o=t.style.paddingTop?parseInt(t.style.paddingTop):0,n=t.style.borderLeftWidth?parseInt(t.style.borderLeftWidth):0,s=t.style.borderTopWidth?parseInt(t.style.borderTopWidth):0;return navigator.userAgent.indexOf("Firefox")>0&&(e+=parseInt(document.body.style.borderLeftWidth)||0,r+=parseInt(document.body.style.borderTopWidth)||0),[e+i+n,r+o+s]},RG.isFixed=function(t){for(var e=t,r=0;e&&"body"!=e.tagName.toLowerCase()&&99>r;){if("fixed"==e.style.position)return e;e=e.offsetParent}return!1},RG.register=RG.Register=function(t){t.Get("chart.noregister")||(RGraph.ObjectRegistry.Add(t),t.Set("chart.noregister",!0))},RG.redraw=RG.Redraw=function(){for(var t=RGraph.ObjectRegistry.objects.byCanvasID,e=document.getElementsByTagName("canvas"),r=0,a=e.length;a>r;++r)e[r].__object__&&e[r].__object__.isRGraph&&(e[r].noclear||RGraph.clear(e[r],arguments[0]?arguments[0]:null));for(var r=0,a=t.length;a>r;++r)if(t[r]){{t[r][0]}t[r][1].Draw()}},RG.redrawCanvas=RG.RedrawCanvas=function(t){var e=RG.ObjectRegistry.getObjectsByCanvasID(t.id);if(!arguments[1]||"boolean"==typeof arguments[1]&&0==!arguments[1]){var r=arguments[2]||t.__object__.get("clearto")||"transparent";RG.clear(t,r)}for(var a=0,i=e.length;i>a;++a)e[a]&&e[a]&&e[a].isRGraph&&e[a].Draw()},RG.Background.draw=RG.background.draw=RG.background.Draw=function(t){var e=function(t,e,r){var a=e,i=r,o=t.properties,n=0,s=t.gutterLeft,h=t.gutterRight,c=t.gutterTop,l=t.gutterBottom,u=o["chart.variant"];if(i.fillStyle=o["chart.text.color"],"3d"==u&&(i.save(),i.translate(10,-5)),"string"==typeof o["chart.title.xaxis"]&&o["chart.title.xaxis"].length){var g=o["chart.text.size"]+2,d=o["chart.text.font"],f=o["chart.title.xaxis.bold"];"number"==typeof o["chart.title.xaxis.size"]&&(g=o["chart.title.xaxis.size"]),"string"==typeof o["chart.title.xaxis.font"]&&(d=o["chart.title.xaxis.font"]);var p=(a.width-s-h)/2+s,m=a.height-l+25;"number"==typeof o["chart.title.xaxis.pos"]&&(m=a.height-l*o["chart.title.xaxis.pos"]),"number"==typeof o["chart.title.xaxis.x"]&&(p=o["chart.title.xaxis.x"]),"number"==typeof o["chart.title.xaxis.y"]&&(m=o["chart.title.xaxis.y"]),RG.Text2(i,{font:d,size:g,x:p,y:m,text:o["chart.title.xaxis"],halign:"center",valign:"center",bold:f,tag:"title xaxis"})}if("string"==typeof o["chart.title.yaxis"]&&o["chart.title.yaxis"].length){var g=o["chart.text.size"]+2,d=o["chart.text.font"],y=270,f=o["chart.title.yaxis.bold"],v=o["chart.title.yaxis.color"];if("number"==typeof o["chart.title.yaxis.pos"])var b=o["chart.title.yaxis.pos"]*s;else var b=(s-25)/s*s;"number"==typeof o["chart.title.yaxis.size"]&&(g=o["chart.title.yaxis.size"]),"string"==typeof o["chart.title.yaxis.font"]&&(d=o["chart.title.yaxis.font"]),"right"==o["chart.title.yaxis.align"]||"right"==o["chart.title.yaxis.position"]||"hbar"===t.type&&"right"===o["chart.yaxispos"]&&"undefined"==typeof o["chart.title.yaxis.align"]&&"undefined"==typeof o["chart.title.yaxis.position"]?(y=90,b=o["chart.title.yaxis.pos"]?a.width-h+o["chart.title.yaxis.pos"]*h:a.width-h+o["chart.text.size"]+5):b=b;var R=(a.height-c-l)/2+c;"number"==typeof o["chart.title.yaxis.x"]&&(b=o["chart.title.yaxis.x"]),"number"==typeof o["chart.title.yaxis.y"]&&(R=o["chart.title.yaxis.y"]),i.fillStyle=v,RG.text2(i,{font:d,size:g,x:b,y:R,valign:"center",halign:"center",angle:y,bold:f,text:o["chart.title.yaxis"],tag:"title yaxis"})}var G=o["chart.background.color"];G&&(i.fillStyle=G,i.fillRect(s+.5,c+.5,a.width-s-h,a.height-c-l));var _=o["chart.ylabels.count"]||5,w=(a.height-l-c)/_;i.beginPath(),i.fillStyle=o["chart.background.barcolor1"],i.strokeStyle=i.fillStyle,n=a.height-l;for(var k=0;_>k;k+=2)i.rect(s,k*w+c,a.width-s-h,w);i.fill(),i.beginPath(),i.fillStyle=o["chart.background.barcolor2"],i.strokeStyle=i.fillStyle;for(var k=1;_>k;k+=2)i.rect(s,k*w+c,a.width-s-h,w);if(i.fill(),o["chart.background.grid"]){if(o["chart.background.grid.autofit"]){o["chart.background.grid.autofit.align"]&&(t.Set("chart.background.grid.autofit.numhlines",o["chart.ylabels.count"]),"line"===t.type?o["chart.labels"]&&o["chart.labels"].length?t.Set("chart.background.grid.autofit.numvlines",o["chart.labels"].length-1):t.Set("chart.background.grid.autofit.numvlines",t.data[0].length-1):("bar"===t.type||"scatter"===t.type)&&o["chart.labels"]&&o["chart.labels"].length&&t.Set("chart.background.grid.autofit.numvlines",o["chart.labels"].length));var j=(a.width-s-h)/o["chart.background.grid.autofit.numvlines"],S=(a.height-c-l)/o["chart.background.grid.autofit.numhlines"];t.Set("chart.background.grid.vsize",j),t.Set("chart.background.grid.hsize",S)}if(i.beginPath(),i.lineWidth=o["chart.background.grid.width"]?o["chart.background.grid.width"]:1,i.strokeStyle=o["chart.background.grid.color"],o["chart.background.grid.dashed"]&&"function"==typeof i.setLineDash&&i.setLineDash([3,2]),o["chart.background.grid.dotted"]&&"function"==typeof i.setLineDash&&i.setLineDash([1,2]),i.beginPath(),o["chart.background.grid.hlines"]){n=a.height-l;var S=o["chart.background.grid.hsize"];for(R=c;n>=R;R+=S)r.moveTo(s,ma.round(R)),r.lineTo(a.width-h,ma.round(R))}if(o["chart.background.grid.vlines"]){var I=a.width-h,j=o["chart.background.grid.vsize"];for(x=s;x<=I;x+=j)i.moveTo(ma.round(x),c),i.lineTo(ma.round(x),a.height-l)}o["chart.background.grid.border"]&&(i.strokeStyle=o["chart.background.grid.color"],i.strokeRect(ma.round(s),ma.round(c),a.width-s-h,a.height-c-l))}i.stroke(),i.beginPath(),i.closePath(),"3d"==u&&i.restore(),"function"==typeof i.setLineDash&&i.setLineDash([1,0]),"string"==typeof o["chart.title"]&&("gantt"==t.type&&(c-=10),RG.DrawTitle(t,o["chart.title"],c,null,o["chart.title.size"]?o["chart.title.size"]:o["chart.text.size"]+2,{canvas:a,context:i})),i.stroke()};RG.ISOLD?e(t,t.canvas,t.context):RG.cachedDraw(t,t.uid+"_background",e)},RG.numberFormat=RG.number_format=function(t,e){var r,a=(t.canvas,t.context,t.properties),i=arguments[2]?String(arguments[2]):"",o=arguments[3]?String(arguments[3]):"",n="",s="",h="string"==typeof a["chart.scale.point"]?a["chart.scale.point"]:".",c="string"==typeof a["chart.scale.thousand"]?a["chart.scale.thousand"]:",";RegExp.$1="";var r,l;if("function"==typeof a["chart.scale.formatter"])return a["chart.scale.formatter"](t,e);if(String(e).indexOf("e")>0)return String(i+String(e)+o);if(e=String(e),e.indexOf(".")>0){var u=e;e=e.replace(/\.(.*)/,""),s=u.replace(/(.*)\.(.*)/,"$2")}var g=c;for(r=e.length-1,l=0;r>=0;l++,r--){var d=e.charAt(r);l%3==0&&0!=l&&(n+=g),n+=d}var f=n;for(n="",r=f.length-1;r>=0;r--)n+=f.charAt(r);return 0==n.indexOf("-"+a["chart.scale.thousand"])&&(n="-"+n.substr(("-"+a["chart.scale.thousand"]).length)),s.length&&(n=n+h+s,s="",RegExp.$1=""),"-"==n.charAt(0)&&(n=n.replace(/-/,""),i="-"+i),i+n+o},RG.drawBars=RG.DrawBars=function(t){var e=t.properties,r=t.context,a=t.canvas,o=e["chart.background.hbars"];if(null!==o)for(r.beginPath(),i=0,len=o.length;i<len;++i){var n=o[i][0],s=o[i][1],h=o[i][2];RG.is_null(n)&&(n=t.scale2.max),n>t.scale2.max&&(n=t.scale2.max),RG.is_null(s)&&(s=t.scale2.max-n),n+s>t.scale2.max&&(s=t.scale2.max-n),n+s<-1*t.scale2.max&&(s=-1*t.scale2.max-n),"center"==e["chart.xaxispos"]&&n==t.scale2.max&&s<-2*t.scale2.max&&(s=-2*t.scale2.max);var c=e["chart.gutter.left"],l=t.getYCoord(n),u=a.width-e["chart.gutter.left"]-e["chart.gutter.right"],g=t.getYCoord(n+s)-l;-1!=RG.ISOPERA&&"center"==e["chart.xaxispos"]&&0>g&&(g*=-1,l-=g),"top"==e["chart.xaxispos"]&&(l=a.height-l,g*=-1),r.fillStyle=h,r.fillRect(c,l,u,g)}},RG.drawInGraphLabels=RG.DrawInGraphLabels=function(t){var e=(t.canvas,t.context),r=t.properties,a=r["chart.labels.ingraph"],i=[];if(a){for(var o=0,n=a.length;n>o;o+=1)if("number"==typeof a[o])for(var s=0;s<a[o];++s)i.push(null);else i.push("string"==typeof a[o]||"object"==typeof a[o]?a[o]:"");if(RG.NoShadow(t),i&&i.length>0)for(var o=0,n=i.length;n>o;o+=1)if(i[o]){var h=t.coords[o];if(h&&h.length>0){var c="bar"==t.type?h[0]+h[2]/2:h[0],l="bar"==t.type?h[1]+h[3]/2:h[1],u="number"==typeof i[o][4]?i[o][4]:25;if(e.beginPath(),e.fillStyle="black",e.strokeStyle="black","bar"===t.type){if("top"==t.Get("chart.xaxispos")&&(u*=-1),"dot"==r["chart.variant"]){e.moveTo(ma.round(c),t.coords[o][1]-5),e.lineTo(ma.round(c),t.coords[o][1]-5-u);var g=ma.round(c),d=t.coords[o][1]-5-u}else if("arrow"==r["chart.variant"]){e.moveTo(ma.round(c),t.coords[o][1]-5),e.lineTo(ma.round(c),t.coords[o][1]-5-u);var g=ma.round(c),d=t.coords[o][1]-5-u}else{e.arc(ma.round(c),l,2.5,0,6.28,0),e.moveTo(ma.round(c),l),e.lineTo(ma.round(c),l-u);var g=ma.round(c),d=l-u}e.stroke(),e.fill()}else if("line"==t.type){if("object"==typeof i[o]&&"number"==typeof i[o][3]&&-1==i[o][3]){e.moveTo(ma.round(c),l+5),e.lineTo(ma.round(c),l+5+u),e.stroke(),e.beginPath(),e.moveTo(ma.round(c),l+5),e.lineTo(ma.round(c)-3,l+10),e.lineTo(ma.round(c)+3,l+10),e.closePath();var g=c,d=l+5+u}else{var g=c,d=l-5-u;e.moveTo(ma.round(c),l-5),e.lineTo(ma.round(c),l-5-u),e.stroke(),e.beginPath(),e.moveTo(ma.round(c),l-5),e.lineTo(ma.round(c)-3,l-10),e.lineTo(ma.round(c)+3,l-10),e.closePath()}e.fill()}e.beginPath(),e.fillStyle="object"==typeof i[o]&&"string"==typeof i[o][1]?i[o][1]:"black",RG.Text2(t,{font:r["chart.text.font"],size:r["chart.text.size"],x:g,y:d,text:"object"==typeof i[o]&&"string"==typeof i[o][0]?i[o][0]:i[o],valign:"bottom",halign:"center",bounding:!0,"bounding.fill":"object"==typeof i[o]&&"string"==typeof i[o][2]?i[o][2]:"white",tag:"labels ingraph"}),e.fill()}}}},RG.fixEventObject=RG.FixEventObject=function(t){if(RG.ISOLD){var t=event;t.pageX=event.clientX+doc.body.scrollLeft,t.pageY=event.clientY+doc.body.scrollTop,t.target=event.srcElement,!doc.body.scrollTop&&doc.documentElement.scrollTop&&(t.pageX+=parseInt(doc.documentElement.scrollLeft),t.pageY+=parseInt(doc.documentElement.scrollTop))}return t.stopPropagation||(t.stopPropagation=function(){window.event.cancelBubble=!0}),t},RG.hideCrosshairCoords=RG.HideCrosshairCoords=function(){var t=RG.Registry.Get("chart.coordinates.coords.div");if(t&&1==t.style.opacity&&t.__object__.Get("chart.crosshairs.coords.fadeout")){var e=RG.Registry.Get("chart.coordinates.coords.div").style;setTimeout(function(){e.opacity=.9},25),setTimeout(function(){e.opacity=.8},50),setTimeout(function(){e.opacity=.7},75),setTimeout(function(){e.opacity=.6},100),setTimeout(function(){e.opacity=.5},125),setTimeout(function(){e.opacity=.4},150),setTimeout(function(){e.opacity=.3},175),setTimeout(function(){e.opacity=.2},200),setTimeout(function(){e.opacity=.1},225),setTimeout(function(){e.opacity=0},250),setTimeout(function(){e.display="none"},275)}},RG.draw3DAxes=RG.Draw3DAxes=function(t){var e=t.properties,r=t.context,a=t.canvas,i=e["chart.gutter.left"],o=e["chart.gutter.right"],n=e["chart.gutter.top"],s=e["chart.gutter.bottom"];r.strokeStyle="#aaa",r.fillStyle="#ddd",r.beginPath(),r.moveTo(i,n),r.lineTo(i+10,n-5),r.lineTo(i+10,a.height-s-5),r.lineTo(i,a.height-s),r.moveTo(i,a.height-s),r.lineTo(i+10,a.height-s-5),r.lineTo(a.width-o+10,a.height-s-5),r.lineTo(a.width-o,a.height-s),r.closePath(),r.stroke(),r.fill()},RG.strokedCurvyRect=function(t,e,r,a,i){var o=arguments[5]?arguments[5]:3,n=arguments[6]||null==arguments[6]?!0:!1,s=arguments[7]||null==arguments[7]?!0:!1,h=arguments[8]||null==arguments[8]?!0:!1,c=arguments[9]||null==arguments[9]?!0:!1;t.beginPath(),t.moveTo(e+(n?o:0),r),t.lineTo(e+a-(s?o:0),r),s&&t.arc(e+a-o,r+o,o,RG.PI+RG.HALFPI,RG.TWOPI,!1),t.lineTo(e+a,r+i-(h?o:0)),h&&t.arc(e+a-o,r-o+i,o,RG.TWOPI,RG.HALFPI,!1),t.lineTo(e+(c?o:0),r+i),c&&t.arc(e+o,r-o+i,o,RG.HALFPI,RG.PI,!1),t.lineTo(e,r+(n?o:0)),n&&t.arc(e+o,r+o,o,RG.PI,RG.PI+RG.HALFPI,!1),t.stroke()},RG.filledCurvyRect=function(t,e,r,a,i){var o=arguments[5]?arguments[5]:3,n=arguments[6]||null==arguments[6]?!0:!1,s=arguments[7]||null==arguments[7]?!0:!1,h=arguments[8]||null==arguments[8]?!0:!1,c=arguments[9]||null==arguments[9]?!0:!1;t.beginPath(),n?(t.moveTo(e+o,r+o),t.arc(e+o,r+o,o,RG.PI,RG.PI+RG.HALFPI,!1)):t.fillRect(e,r,o,o),s?(t.moveTo(e+a-o,r+o),t.arc(e+a-o,r+o,o,RG.PI+RG.HALFPI,0,!1)):(t.moveTo(e+a-o,r),t.fillRect(e+a-o,r,o,o)),h?(t.moveTo(e+a-o,r+i-o),t.arc(e+a-o,r-o+i,o,0,RG.HALFPI,!1)):(t.moveTo(e+a-o,r+i-o),t.fillRect(e+a-o,r+i-o,o,o)),c?(t.moveTo(e+o,r+i-o),t.arc(e+o,r-o+i,o,RG.HALFPI,RG.PI,!1)):(t.moveTo(e,r+i-o),t.fillRect(e,r+i-o,o,o)),t.fillRect(e+o,r,a-o-o,i),t.fillRect(e,r+o,o+1,i-o-o),t.fillRect(e+a-o-1,r+o,o+1,i-o-o),t.fill()},RG.hideZoomedCanvas=RG.HideZoomedCanvas=function(){var t=10,e=15;if("object"==typeof RG.zoom_image){var r=RG.zoom_image.obj,a=r.properties;if(a["chart.zoom.fade.out"]){for(var i=e,o=1;i>=0;--i,++o)"object"==typeof RG.zoom_image&&setTimeout("RGraph.zoom_image.style.opacity = "+String(i/10),o*t);"object"==typeof RG.zoom_background&&setTimeout("RGraph.zoom_background.style.opacity = "+String(i/e),o*t)}"object"==typeof RG.zoom_image&&setTimeout("RGraph.zoom_image.style.display = 'none'",a["chart.zoom.fade.out"]?e*t+10:0),"object"==typeof RG.zoom_background&&setTimeout("RGraph.zoom_background.style.display = 'none'",a["chart.zoom.fade.out"]?e*t+10:0)}},RG.addCustomEventListener=RG.AddCustomEventListener=function(t,e,r){var a=RGraph;return"undefined"==typeof a.events[t.uid]&&(a.events[t.uid]=[]),a.events[t.uid].push([t,e,r]),a.events[t.uid].length-1},RG.fireCustomEvent=RG.FireCustomEvent=function(t,e){if(t&&t.isRGraph){t[e]&&t[e](t);var r=t.uid;if("string"==typeof r&&"object"==typeof RG.events&&"object"==typeof RG.events[r]&&RG.events[r].length>0)for(var a=0;a<RG.events[r].length;++a)RG.events[r][a]&&RG.events[r][a][1]==e&&RG.events[r][a][2](t)}},RGraph.removeAllCustomEventListeners=RGraph.RemoveAllCustomEventListeners=function(){var t=arguments[0];t&&RG.events[t]?RG.events[t]=[]:RG.events=[]},RG.removeCustomEventListener=RG.RemoveCustomEventListener=function(t,e){"object"==typeof RG.events&&"object"==typeof RG.events[t.id]&&"object"==typeof RG.events[t.id][e]&&(RG.events[t.id][e]=null)},RG.drawBackgroundImage=RG.DrawBackgroundImage=function(t){var e=t.properties,r=t.canvas,a=t.context;if("string"==typeof e["chart.background.image"]){if("undefined"==typeof r.__rgraph_background_image__){var i=new Image;i.__object__=t,i.__canvas__=r,i.__context__=a,i.src=t.Get("chart.background.image"),r.__rgraph_background_image__=i}else i=r.__rgraph_background_image__;i.onload=function(){t.__rgraph_background_image_loaded__=!0,RG.clear(r),RG.redrawCanvas(r)};var o=t.gutterLeft,n=t.gutterRight,s=t.gutterTop,h=t.gutterBottom,c=e["chart.background.image.stretch"],l=e["chart.background.image.align"];if("string"==typeof l){if(-1!=l.indexOf("right"))var u=r.width-(e["chart.background.image.w"]||i.width)-n;else var u=o;if(-1!=l.indexOf("bottom"))var g=r.height-(e["chart.background.image.h"]||i.height)-h;else var g=s}else var u=o||25,g=s||25;var u="number"==typeof e["chart.background.image.x"]?e["chart.background.image.x"]:u,g="number"==typeof e["chart.background.image.y"]?e["chart.background.image.y"]:g,d=c?r.width-o-n:i.width,f=c?r.height-s-h:i.height;"number"==typeof e["chart.background.image.w"]&&(d=e["chart.background.image.w"]),"number"==typeof e["chart.background.image.h"]&&(f=e["chart.background.image.h"]);var p=a.globalAlpha;a.globalAlpha=e["chart.background.image.alpha"],a.drawImage(i,u,g,d,f),a.globalAlpha=p}},RG.hasTooltips=function(t){var e=t.properties;if("object"==typeof e["chart.tooltips"]&&e["chart.tooltips"]){for(var r=0,a=e["chart.tooltips"].length;a>r;++r)if(!RG.is_null(t.Get("chart.tooltips")[r]))return!0}else if("function"==typeof e["chart.tooltips"])return!0;return!1},RG.createUID=RG.CreateUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*ma.random()|0,r="x"==t?e:3&e|8;return r.toString(16)})},RG.ObjectRegistry.add=RG.ObjectRegistry.Add=function(t){var e=t.uid,r=t.canvas.id;RG.ObjectRegistry.objects.byUID.push([e,t]),RG.ObjectRegistry.objects.byCanvasID.push([r,t])},RG.ObjectRegistry.remove=RG.ObjectRegistry.Remove=function(t){for(var e=(t.id,t.uid),r=0;r<RG.ObjectRegistry.objects.byUID.length;++r)RG.ObjectRegistry.objects.byUID[r]&&RG.ObjectRegistry.objects.byUID[r][1].uid==e&&(RG.ObjectRegistry.objects.byUID[r]=null);for(var r=0;r<RG.ObjectRegistry.objects.byCanvasID.length;++r)RG.ObjectRegistry.objects.byCanvasID[r]&&RG.ObjectRegistry.objects.byCanvasID[r][1]&&RG.ObjectRegistry.objects.byCanvasID[r][1].uid==e&&(RG.ObjectRegistry.objects.byCanvasID[r]=null)},RG.ObjectRegistry.clear=RG.ObjectRegistry.Clear=function(){if(arguments[0])for(var t="object"==typeof arguments[0]?arguments[0].id:arguments[0],e=RG.ObjectRegistry.getObjectsByCanvasID(t),r=0,a=e.length;a>r;++r)RG.ObjectRegistry.remove(e[r]);else RG.ObjectRegistry.objects={},RG.ObjectRegistry.objects.byUID=[],RG.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.list=RGraph.ObjectRegistry.List=function(){for(var t=[],e=0,r=RG.ObjectRegistry.objects.byUID.length;r>e;++e)RG.ObjectRegistry.objects.byUID[e]&&t.push(RG.ObjectRegistry.objects.byUID[e][1].type);return arguments[0]?t:void p(t)},RG.ObjectRegistry.clearByType=RG.ObjectRegistry.ClearByType=function(t){for(var e=RG.ObjectRegistry.objects.byUID,r=0,a=e.length;a>r;++r)if(e[r]){var i=(e[r][0],e[r][1]);i&&i.type==t&&RG.ObjectRegistry.remove(i)}},RG.ObjectRegistry.iterate=RG.ObjectRegistry.Iterate=function(t){for(var e=RGraph.ObjectRegistry.objects.byUID,r=0,a=e.length;a>r;++r)if("string"==typeof arguments[1])for(var i=arguments[1].split(/,/),o=0,n=i.length;n>o;++o)i[o]==e[r][1].type&&t(e[r][1]);else t(e[r][1])},RG.ObjectRegistry.getObjectsByCanvasID=function(t){for(var e=RG.ObjectRegistry.objects.byCanvasID,r=[],a=0,i=e.length;i>a;++a)e[a]&&e[a][0]==t&&r.push(e[a][1]);return r},RG.ObjectRegistry.getFirstObjectByXY=RG.ObjectRegistry.getObjectByXY=function(t){for(var e=t.target,r=RG.ObjectRegistry.getObjectsByCanvasID(e.id),a=r.length-1;a>=0;--a){var i=r[a].getObjectByXY(t);if(i)return i}},RG.ObjectRegistry.getObjectsByXY=function(t){for(var e=t.target,r=[],a=RG.ObjectRegistry.getObjectsByCanvasID(e.id),i=a.length-1;i>=0;--i){var o=a[i].getObjectByXY(t);o&&r.push(o)}return r},RG.ObjectRegistry.getObjectByUID=function(t){for(var e=RG.ObjectRegistry.objects.byUID,r=0,a=e.length;a>r;++r)if(e[r]&&e[r][1].uid==t)return e[r][1]},RG.ObjectRegistry.bringToFront=function(t){var e="undefined"==typeof arguments[1]?!0:arguments[1];RG.ObjectRegistry.remove(t),RG.ObjectRegistry.add(t),e&&RG.redrawCanvas(t.canvas)},RG.ObjectRegistry.getObjectsByType=function(t){for(var e=RG.ObjectRegistry.objects.byUID,r=[],a=0,i=e.length;i>a;++a)e[a]&&e[a][1]&&e[a][1].type&&e[a][1].type&&e[a][1].type==t&&r.push(e[a][1]);return r},RG.ObjectRegistry.getFirstObjectByType=function(t){for(var e=RG.ObjectRegistry.objects.byUID,r=0,a=e.length;a>r;++r)if(e[r]&&e[r][1]&&e[r][1].type==t)return e[r][1];return null},RG.getAngleByXY=function(t,e,r,a){var i=ma.atan((a-e)/(r-t));return i=ma.abs(i),r>=t&&a>=e?i+=RG.TWOPI:r>=t&&e>a?i=RG.HALFPI-i+(RG.PI+RG.HALFPI):t>r&&e>a?i+=RG.PI:i=RG.PI-i,i>RG.TWOPI&&(i-=RG.TWOPI),i},RG.getHypLength=function(t,e,r,a){var i=ma.sqrt((r-t)*(r-t)+(a-e)*(a-e));return i},RG.getRadiusEndPoint=function(t,e,r,a){var i=t+ma.cos(r)*a,o=e+ma.sin(r)*a;return[i,o]},RG.installEventListeners=RG.InstallEventListeners=function(t){var e=t.properties;RG.ISOLD||(RG.installCanvasClickListener?(RG.installWindowMousedownListener(t),RG.installWindowMouseupListener(t),RG.installCanvasMousemoveListener(t),RG.installCanvasMouseupListener(t),RG.installCanvasMousedownListener(t),RG.installCanvasClickListener(t)):(RG.hasTooltips(t)||e["chart.adjustable"]||e["chart.annotatable"]||e["chart.contextmenu"]||e["chart.resizable"]||e["chart.key.interactive"]||e["chart.events.click"]||e["chart.events.mousemove"]||"function"==typeof t.onclick||"function"==typeof t.onmousemove)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js"))},RG.pr=function(t){var e=arguments[2]?arguments[2]:"    ",r="",a="number"==typeof arguments[3]?arguments[3]:0;if(a>=5)return"";switch(typeof t){case"string":r+=t+" ("+typeof t+", "+t.length+")";break;case"number":r+=t+" ("+typeof t+")";break;case"boolean":r+=t+" ("+typeof t+")";break;case"function":r+="function () {}";break;case"undefined":r+="undefined";break;case"null":r+="null";break;case"object":if(RGraph.is_null(t))r+=e+"null\n";else{r+=e+"Object {\n";for(j in t)r+=e+"    "+j+" => "+RGraph.pr(t[j],!0,e+"    ",a+1)+"\n";r+=e+"}"}break;default:r+="Unknown type: "+typeof t}return arguments[1]||alert(r),r},RG.dashedLine=RG.DashedLine=function(t,e,r,a,i){var o=5;"number"==typeof arguments[5]&&(o=arguments[5]);var n=a-e,s=i-r,h=ma.floor(ma.sqrt(n*n+s*s)/o),c=n/h,l=s/h,u=0;do u%2==0&&u>0?t.lineTo(e,r):t.moveTo(e,r),e+=c,r+=l;while(u++<=h)},RG.AJAX=function(t,e){if(window.XMLHttpRequest)var r=new XMLHttpRequest;else if(window.ActiveXObject)var r=new ActiveXObject("Microsoft.XMLHTTP");r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=e,this.__user_callback__(this.responseText))},r.open("GET",t,!0),r.send()},RG.AJAX.POST=function(t,e,r){var a=[];if(window.XMLHttpRequest)var o=new XMLHttpRequest;else if(window.ActiveXObject)var o=new ActiveXObject("Microsoft.XMLHTTP");o.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=r,this.__user_callback__(this.responseText))},o.open("POST",t,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(i in e)"string"==typeof i&&a.push(i+"="+encodeURIComponent(e[i]));o.send(a.join("&"))},RG.AJAX.getNumber=function(t,e){RG.AJAX(t,function(){var t=parseFloat(this.responseText);e(t)})},RG.AJAX.getString=function(t,e){RG.AJAX(t,function(){var t=String(this.responseText);e(t)})},RG.AJAX.getJSON=function(url,callback){RG.AJAX(url,function(){var json=eval("("+this.responseText+")");callback(json)})},RG.AJAX.getCSV=function(t,e){var r=arguments[2]?arguments[2]:",";RG.AJAX(t,function(){for(var t=new RegExp(r),a=this.responseText.split(t),i=0,o=a.length;o>i;++i)a[i]=parseFloat(a[i]);e(a)})},RG.rotateCanvas=RG.RotateCanvas=function(t,e,r,a){var i=t.getContext("2d");i.translate(e,r),i.rotate(a),i.translate(0-e,0-r)},RG.measureText=RG.MeasureText=function(t,e,r,a){"undefined"==typeof RGraph.measuretext_cache&&(RGraph.measuretext_cache=[]);var i=t+":"+e+":"+r+":"+a;if("object"==typeof RGraph.measuretext_cache&&RGraph.measuretext_cache[i])return RGraph.measuretext_cache[i];if(RGraph.measuretext_cache["text-div"]){if(RGraph.measuretext_cache["text-div"])var o=RGraph.measuretext_cache["text-div"]}else{var o=document.createElement("DIV");o.style.position="absolute",o.style.top="-100px",o.style.left="-100px",document.body.appendChild(o),RGraph.measuretext_cache["text-div"]=o}o.innerHTML=t.replace(/\r\n/g,"<br />"),o.style.fontFamily=r,o.style.fontWeight=e?"bold":"normal",o.style.fontSize=(a||12)+"pt";var a=[o.offsetWidth,o.offsetHeight];return RGraph.measuretext_cache[i]=a,a},RG.text2=RG.Text2=function(t,e){if(t&&t.isRGraph)var r=t.context,a=t.canvas;else if("string"==typeof t)var a=document.getElementById(t),r=a.getContext("2d");else if("function"==typeof t.getContext)var a=t,r=a.getContext("2d");else if(-1!=t.toString().indexOf("CanvasRenderingContext2D")||RGraph.ISIE8&&t.moveTo)var r=t,a=t.canvas;else if(RG.ISOLD&&t.fillText)var r=t,a=t.canvas;var i=e.x,o=e.y,n=i,s=o,h=e.text,c=h.split(/\r?\n/g),l=c.length,u=e.font?e.font:"Arial",g=e.size?e.size:10,d=1.5*g,f=(e.bold,e.italic,e.halign?e.halign:"left"),p=e.valign?e.valign:"bottom",m="string"==typeof e.tag&&e.tag.length>0?e.tag:"",y=(e.marker,e.angle||0);"string"==typeof e.boundingFill&&(e["bounding.fill"]=e.boundingFill),"string"==typeof e.boundingStroke&&(e["bounding.stroke"]=e.boundingStroke);var v=e.bounding,b=e["bounding.stroke"]?e["bounding.stroke"]:"black",R=e["bounding.fill"]?e["bounding.fill"]:"rgba(255,255,255,0.7)",G=e["bounding.shadow"],x=e["bounding.shadow.color"]||"#ccc",_=e["bounding.shadow.blur"]||3,w=e["bounding.shadow.offsetx"]||3,k=e["bounding.shadow.offsety"]||3,j=e["bounding.linewidth"]||1,S={};
if("number"==typeof h&&(h=String(h)),"string"!=typeof h)return void alert("[RGRAPH TEXT] The text given must a string or a number");0!=y&&(r.save(),r.translate(i,o),r.rotate(ma.PI/180*y),i=0,o=0),r.font=(e.italic?"italic ":"")+(e.bold?"bold ":"")+g+"pt "+u;for(var I=0,T=0;l>T;++T)I=ma.max(I,r.measureText(c[T]).width);var C=d*l;if(e.marker){var A=10,O=r.strokeStyle;r.beginPath(),r.strokeStyle="red",r.moveTo(i,o-A),r.lineTo(i,o+A),r.moveTo(i-A,o),r.lineTo(i+A,o),r.stroke(),r.strokeStyle=O}if("center"==f){r.textAlign="center";var E=i-2-I/2}else if("right"==f){r.textAlign="right";var E=i-2-I}else{r.textAlign="left";var E=i-2}if("center"==p){r.textBaseline="middle",o-=1,o-=(l-1)/2*d;var P=o-d/2-2}else if("top"==p){r.textBaseline="top";var P=o-2}else{r.textBaseline="bottom",l>1&&(o-=(l-1)*d);var P=o-d-2}var F=I+4,L=C+4;if(v){var M=r.lineWidth,D=r.strokeStyle,z=r.fillStyle,B=r.shadowColor,X=r.shadowBlur,W=r.shadowOffsetX,H=r.shadowOffsetY;r.lineWidth=j,r.strokeStyle=b,r.fillStyle=R,G&&(r.shadowColor=x,r.shadowBlur=_,r.shadowOffsetX=w,r.shadowOffsetY=k),r.strokeRect(E,P,F,L),r.fillRect(E,P,F,L),r.lineWidth=M,r.strokeStyle=D,r.fillStyle=z,r.shadowColor=B,r.shadowBlur=X,r.shadowOffsetX=W,r.shadowOffsetY=H}if(l>1)for(var T=0;l>T;++T)r.fillText(c[T],i,o+d*T);else r.fillText(h,i,o);return 0!=y&&(90==y?"left"==f?("bottom"==p&&(E=n-2,P=s-2,F=C+4,L=I+4),"center"==p&&(E=n-C/2-2,P=s-2,F=C+4,L=I+4),"top"==p&&(E=n-C-2,P=s-2,F=C+4,L=I+4)):"center"==f?("bottom"==p&&(E=n-2,P=s-I/2-2,F=C+4,L=I+4),"center"==p&&(E=n-C/2-2,P=s-I/2-2,F=C+4,L=I+4),"top"==p&&(E=n-C-2,P=s-I/2-2,F=C+4,L=I+4)):"right"==f&&("bottom"==p&&(E=n-2,P=s-I-2,F=C+4,L=I+4),"center"==p&&(E=n-C/2-2,P=s-I-2,F=C+4,L=I+4),"top"==p&&(E=n-C-2,P=s-I-2,F=C+4,L=I+4)):180==y?"left"==f?("bottom"==p&&(E=n-I-2,P=s-2,F=I+4,L=C+4),"center"==p&&(E=n-I-2,P=s-C/2-2,F=I+4,L=C+4),"top"==p&&(E=n-I-2,P=s-C-2,F=I+4,L=C+4)):"center"==f?("bottom"==p&&(E=n-I/2-2,P=s-2,F=I+4,L=C+4),"center"==p&&(E=n-I/2-2,P=s-C/2-2,F=I+4,L=C+4),"top"==p&&(E=n-I/2-2,P=s-C-2,F=I+4,L=C+4)):"right"==f&&("bottom"==p&&(E=n-2,P=s-2,F=I+4,L=C+4),"center"==p&&(E=n-2,P=s-C/2-2,F=I+4,L=C+4),"top"==p&&(E=n-2,P=s-C-2,F=I+4,L=C+4)):270==y&&("left"==f?("bottom"==p&&(E=n-C-2,P=s-I-2,F=C+4,L=I+4),"center"==p&&(E=n-C/2-4,P=s-I-2,F=C+4,L=I+4),"top"==p&&(E=n-2,P=s-I-2,F=C+4,L=I+4)):"center"==f?("bottom"==p&&(E=n-C-2,P=s-I/2-2,F=C+4,L=I+4),"center"==p&&(E=n-C/2-4,P=s-I/2-2,F=C+4,L=I+4),"top"==p&&(E=n-2,P=s-I/2-2,F=C+4,L=I+4)):"right"==f&&("bottom"==p&&(E=n-C-2,P=s-2,F=C+4,L=I+4),"center"==p&&(E=n-C/2-2,P=s-2,F=C+4,L=I+4),"top"==p&&(E=n-2,P=s-2,F=C+4,L=I+4))),r.restore()),r.textBaseline="alphabetic",r.textAlign="left",S.x=E,S.y=P,S.width=F,S.height=L,S.object=t,S.text=h,S.tag=m,t&&t.isRGraph&&t.coordsText&&t.coordsText.push(S),S},RG.sequentialIndexToGrouped=function(t,e){for(var r=0,a=0;--t>=0;)RG.is_null(e[r])?(r++,a=0):"number"!=typeof e[r]?(a++,a>=e[r].length&&(r++,a=0)):(r++,a=0);return[r,a]},RG.Highlight.rect=RG.Highlight.Rect=function(t,e){var r=(t.canvas,t.context),a=t.properties;a["chart.tooltips.highlight"]&&(r.lineWidth=1,r.beginPath(),r.strokeStyle=a["chart.highlight.stroke"],r.fillStyle=a["chart.highlight.fill"],r.rect(e.x,e.y,e.width,e.height),r.stroke(),r.fill())},RG.Highlight.point=RG.Highlight.Point=function(t,e){var r=t.properties,a=(t.canvas,t.context);if(r["chart.tooltips.highlight"]){a.beginPath(),a.strokeStyle=r["chart.highlight.stroke"],a.fillStyle=r["chart.highlight.fill"];var i=r["chart.highlight.point.radius"]||2;a.arc(e.x,e.y,i,0,RG.TWOPI,0),a.stroke(),a.fill()}},RG.parseDate=function(t){if(t=RG.trim(t),"now"===t&&(t=(new Date).toString()),t.match(/^(\d\d\d\d)(-|\/)(\d\d)(-|\/)(\d\d)( |T)(\d\d):(\d\d):(\d\d)$/)&&(t=RegExp.$1+"-"+RegExp.$3+"-"+RegExp.$5+"T"+RegExp.$7+":"+RegExp.$8+":"+RegExp.$9),t.match(/^\d\d\d\d-\d\d-\d\d$/)&&(t=t.replace(/-/g,"/")),t.match(/^\d\d:\d\d:\d\d$/)){var e=new Date,r=e.getDate(),a=e.getMonth()+1,i=e.getFullYear();1===String(a).length&&(a="0"+a),1===String(r).length&&(r="0"+r),t=i+"/"+a+"/"+r+" "+t}return Date.parse(t)},RG.resetColorsToOriginalValues=function(t){if(t.original_colors)for(var e in t.original_colors)"string"==typeof e&&"chart."===e.substr(0,6)&&(t.properties[e]=RG.arrayClone(t.original_colors[e]));"function"==typeof t.resetColorsToOriginalValues&&t.resetColorsToOriginalValues(),t.colorsParsed=!1},RG.path=RG.Path=function(t,e){if(t.isRGraph&&"string"==typeof t.type)var r=t.context;else var r=t;"string"==typeof e&&(e=e.split(/ +/));for(var a=0,i=e.length;i>a;a+=1){var o=e[a];switch(o){case"b":r.beginPath();break;case"c":r.closePath();break;case"m":r.moveTo(parseFloat(e[a+1]),parseFloat(e[a+2])),a+=2;break;case"l":r.lineTo(parseFloat(e[a+1]),parseFloat(e[a+2])),a+=2;break;case"s":r.strokeStyle=e[a+1],r.stroke(),a+=1;break;case"f":r.fillStyle=e[a+1],r.fill(),a+=1;break;case"qc":r.quadraticCurveTo(parseFloat(e[a+1]),parseFloat(e[a+2]),parseFloat(e[a+3]),parseFloat(e[a+4])),a+=4;break;case"bc":r.bezierCurveTo(parseFloat(e[a+1]),parseFloat(e[a+2]),parseFloat(e[a+3]),parseFloat(e[a+4]),parseFloat(e[a+5]),parseFloat(e[a+6])),a+=6;break;case"r":r.rect(parseFloat(e[a+1]),parseFloat(e[a+2]),parseFloat(e[a+3]),parseFloat(e[a+4])),a+=4;break;case"a":r.arc(parseFloat(e[a+1]),parseFloat(e[a+2]),parseFloat(e[a+3]),parseFloat(e[a+4]),parseFloat(e[a+5]),"true"===e[a+6]||e[a+6]===!0?!0:!1),a+=6;break;case"at":r.arcTo(parseFloat(e[a+1]),parseFloat(e[a+2]),parseFloat(e[a+3]),parseFloat(e[a+4]),parseFloat(e[a+5])),a+=5;break;case"lw":r.lineWidth=parseFloat(e[a+1]),a+=1;break;case"lj":r.lineJoin=e[a+1],a+=1;break;case"lc":r.lineCap=e[a+1],a+=1;break;case"sc":r.shadowColor=e[a+1],a+=1;break;case"sb":r.shadowBlur=parseFloat(e[a+1]),a+=1;break;case"sx":r.shadowOffsetX=parseFloat(e[a+1]),a+=1;break;case"sy":r.shadowOffsetY=parseFloat(e[a+1]),a+=1;break;case"fu":e[a+1](t),a+=1}}},RG.linearGradient=RG.LinearGradient=function(t,e,r,a,i){for(var o=t.context.createLinearGradient(e,r,a,i),n=arguments.length-5,s=5;s<arguments.length;++s){var h=arguments[s],c=(s-5)/(n-1);o.addColorStop(c,h)}return o},RG.radialGradient=RG.RadialGradient=function(t,e,r,a,i,o,n){for(var s=t.context.createRadialGradient(e,r,a,i,o,n),h=arguments.length-7,c=7;c<arguments.length;++c){var l=arguments[c],u=(c-7)/(h-1);s.addColorStop(u,l)}return s},RG.addEventListener=RG.AddEventListener=function(t,e,r){var a=arguments[3]?arguments[3]:"unknown";RG.Registry.get("chart.event.handlers").push([t,e,r,a])},RG.clearEventListeners=RG.ClearEventListeners=function(t){if(t&&"window"==t)window.removeEventListener("mousedown",window.__rgraph_mousedown_event_listener_installed__,!1),window.removeEventListener("mouseup",window.__rgraph_mouseup_event_listener_installed__,!1);else{var e=document.getElementById(t);e.removeEventListener("mouseup",e.__rgraph_mouseup_event_listener_installed__,!1),e.removeEventListener("mousemove",e.__rgraph_mousemove_event_listener_installed__,!1),e.removeEventListener("mousedown",e.__rgraph_mousedown_event_listener_installed__,!1),e.removeEventListener("click",e.__rgraph_click_event_listener_installed__,!1)}},RG.hidePalette=RG.HidePalette=function(){var t=RG.Registry.get("palette");"object"==typeof t&&t&&(t.style.visibility="hidden",t.style.display="none",RG.Registry.set("palette",null))},RG.random=function(t,e){var r=arguments[2]?arguments[2]:0,a=ma.random();return Number(((e-t)*a+t).toFixed(r))},RG.random.array=function(t,e,r){for(var a=[],i=0;t>i;i+=1)a.push(RG.random(e,r));return a},RG.noShadow=RG.NoShadow=function(t){var e=t.context;e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0},RG.setShadow=RG.SetShadow=function(t,e,r,a,i){var o=t.context;o.shadowColor=e,o.shadowOffsetX=r,o.shadowOffsetY=a,o.shadowBlur=i},RG.Registry.set=RG.Registry.Set=function(t,e){return RG.Registry.store[t]=e,e},RG.Registry.get=RG.Registry.Get=function(t){return RG.Registry.store[t]},RG.degrees2Radians=function(t){return t*(RG.PI/180)},RG.log=function(t,e){return ma.log(t)/(e?ma.log(e):1)},RG.isArray=RG.is_array=function(t){return null!=t&&-1!=t.constructor.toString().indexOf("Array")},RG.trim=function(t){return RG.ltrim(RG.rtrim(t))},RG.ltrim=function(t){return t.replace(/^(\s|\0)+/,"")},RG.rtrim=function(t){return t.replace(/(\s|\0)+$/,"")},RG.isNull=RG.is_null=function(t){return null==t||"object"==typeof t&&!t?!0:!1},RG.async=RG.Async=function(t){return setTimeout(t,arguments[1]?arguments[1]:1)},RG.reset=RG.Reset=function(t){t.width=t.width,RG.ObjectRegistry.clear(t),t.__rgraph_aa_translated__=!1},RG.getCanvasTag=function(t){t="object"==typeof t?t.id:t;var e=doc.getElementById(t);return[t,e]},RG.Effects.updateCanvas=RG.Effects.UpdateCanvas=function(t){win.requestAnimationFrame=win.requestAnimationFrame||win.webkitRequestAnimationFrame||win.msRequestAnimationFrame||win.mozRequestAnimationFrame||function(t){setTimeout(t,16.666)},win.requestAnimationFrame(t)},RG.Effects.getEasingMultiplier=function(t,e){return ma.pow(ma.sin(e/t*RG.HALFPI),3)},RG.stringsToNumbers=function(t){var e=arguments[1]||",";if("number"==typeof t)return t;if("string"==typeof t&&(t=-1!=t.indexOf(e)?t.split(e):parseFloat(t)),"object"==typeof t)for(var r=0,a=t.length;a>r;r+=1)t[r]=parseFloat(t[r]);return t},RG.cachedDraw=function(t,e,r){RG.cache[e]||(RG.cache[e]={},RG.cache[e].object=t,RG.cache[e].canvas=jQuery("<canvas></canvas>").attr({width:t.canvas.width,height:t.canvas.height,id:"background_cached_canvas"+t.canvas.id}).get(0),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement&&G_vmlCanvasManager.initElement(RG.cache[e].canvas),RG.cache[e].context=RG.cache[e].canvas.getContext("2d"),RG.cache[e].context.translate(.5,.5),r(t,RG.cache[e].canvas,RG.cache[e].context)),t.context.drawImage(RG.cache[e].canvas,-.5,-.5)},RG.parseObjectStyleConfig=function(t,e){var r=function(t,e,a,i){for(key in e){var o=!1,n=!1,s=e[key];!RG.isNull(s)&&s.constructor&&(o=s.constructor.toString().indexOf("Object")>0,n=s.constructor.toString().indexOf("Array")>0),o&&!n?r(t,e[key],a+"."+key,i):"self"===key?i[a]=s:i[a+"."+key]=s}return i},a=r(t,e,"chart",{});for(key in a)"string"==typeof key&&t.set(key,a[key])}}(window,document),window.$p=function(){RGraph.pr(arguments[0],arguments[1],arguments[3])},window.$a=function(t){alert(t)},window.$cl=function(t){return console.log(t)},RGraph=window.RGraph||{isRGraph:!0},RGraph.Effects=RGraph.Effects||{},RGraph.Effects.Rose=RGraph.Effects.Rose||{},RGraph.Rose=function(t){if("object"==typeof t&&"object"==typeof t.data&&"string"==typeof t.id)var e=!0;else{var t={id:t};t.data=arguments[1]}this.id=t.id,this.canvas=document.getElementById(this.id),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.data=t.data,this.canvas.__object__=this,this.type="rose",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.coordsText=[],this.original_colors=[],this.firstDraw=!0,this.centerx=0,this.centery=0,this.radius=0,this.max=0,this.angles=[],this.angles2=[],this.properties={"chart.background.axes":!0,"chart.background.axes.color":"black","chart.background.grid":!0,"chart.background.grid.color":"#ccc","chart.background.grid.size":null,"chart.background.grid.spokes":null,"chart.background.grid.count":5,"chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.angles.start":0,"chart.colors":["rgba(255,0,0,0.5)","rgba(255,255,0,0.5)","rgba(0,255,255,0.5)","rgb(0,255,0)","gray","blue","rgb(255,128,255)","green","pink","gray","aqua"],"chart.linewidth":1,"chart.colors.sequential":!1,"chart.colors.alpha":null,"chart.margin":0,"chart.strokestyle":"#aaa","chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.labels":null,"chart.labels.position":"center","chart.labels.axes":"nsew","chart.labels.boxed":!0,"chart.labels.offset":0,"chart.text.color":"black","chart.text.font":"Arial","chart.text.size":10,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart.stroke":"black","chart.key.interactive.highlight.chart.fill":"rgba(255,255,255,0.7)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.key.text.color":"black","chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":!0,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.annotatable":!1,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.ymax":null,"chart.ymin":0,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.variant":"stacked","chart.exploded":0,"chart.events.mousemove":null,"chart.events.click":null,"chart.animation.roundrobin.factor":1,"chart.animation.roundrobin.radius":!0,"chart.animation.grow.multiplier":1,"chart.labels.count":5};for(var r=RGraph.array_linearize(this.data),a=0;a<r.length;++a)this["$"+a]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var i=RGraph,o=this.canvas,n=o.getContext("2d"),s=this.properties,h=(jQuery,i.Path,window,document),c=Math;i.Effects&&"function"==typeof i.Effects.decorate&&i.Effects.decorate(this),this.set=this.Set=function(t){var e="undefined"==typeof arguments[1]?null:arguments[1];return 1===arguments.length&&"object"==typeof t?(i.parseObjectStyleConfig(this,t),this):("chart."!=t.substr(0,6)&&(t="chart."+t),s[t.toLowerCase()]=e,this)},this.get=this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),s[t.toLowerCase()]},this.draw=this.Draw=function(){return i.FireCustomEvent(this,"onbeforedraw"),this.gutterLeft=s["chart.gutter.left"],this.gutterRight=s["chart.gutter.right"],this.gutterTop=s["chart.gutter.top"],this.gutterBottom=s["chart.gutter.bottom"],this.radius=Math.min(o.width-this.gutterLeft-this.gutterRight,o.height-this.gutterTop-this.gutterBottom)/2,this.centerx=(o.width-this.gutterLeft-this.gutterRight)/2+this.gutterLeft,this.centery=(o.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop,this.angles=[],this.angles2=[],this.total=0,this.startRadians=s["chart.angles.start"],this.coordsText=[],s["chart.key"]&&s["chart.key"].length>0&&s["chart.key"].length>=3&&(this.centerx=this.centerx-this.gutterRight+5),"number"==typeof s["chart.centerx"]&&(this.centerx=s["chart.centerx"]),"number"==typeof s["chart.centery"]&&(this.centery=s["chart.centery"]),"number"==typeof s["chart.radius"]&&(this.radius=s["chart.radius"]),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.drawBackground(),this.DrawRose(),this.DrawLabels(),n.strokeStyle="rgba(0,0,0,0)",s["chart.contextmenu"]&&i.ShowContext(this),s["chart.resizable"]&&i.AllowResizing(this),s["chart.adjustable"]&&i.AllowAdjusting(this),i.InstallEventListeners(this),this.firstDraw&&(i.fireCustomEvent(this,"onfirstdraw"),this.firstDraw=!1,this.firstDrawFunc()),i.FireCustomEvent(this,"ondraw"),this},this.drawBackground=this.DrawBackground=function(){if(n.lineWidth=1,s["chart.background.grid"]){"number"==typeof s["chart.background.grid.count"]&&(s["chart.background.grid.size"]=this.radius/s["chart.background.grid.count"]),n.beginPath(),n.strokeStyle=s["chart.background.grid.color"];for(var t=s["chart.background.grid.size"];t<=this.radius;t+=s["chart.background.grid.size"])n.moveTo(this.centerx+t,this.centery),n.arc(this.centerx,this.centery,t,0,i.TWOPI,!1);if(n.stroke(),n.beginPath(),"number"==typeof s["chart.background.grid.spokes"])for(var e=360/s["chart.background.grid.spokes"],t=e;360>=t;t+=e)n.arc(this.centerx,this.centery,this.radius,t/(180/i.PI)-i.HALFPI+this.startRadians,(t+1e-4)/(180/i.PI)-i.HALFPI+this.startRadians,!1),n.lineTo(this.centerx,this.centery);else for(var t=15;360>=t;t+=15)n.arc(this.centerx,this.centery,this.radius,t/(180/i.PI)-i.HALFPI,(t+1e-4)/(180/i.PI)-i.HALFPI,!1),n.lineTo(this.centerx,this.centery);n.stroke()}if(s["chart.background.axes"]){n.beginPath(),n.strokeStyle=s["chart.background.axes.color"],n.moveTo(this.centerx-this.radius,Math.round(this.centery)),n.lineTo(this.centerx+this.radius,Math.round(this.centery)),n.moveTo(Math.round(this.centerx-this.radius),this.centery-5),n.lineTo(Math.round(this.centerx-this.radius),this.centery+5),n.moveTo(Math.round(this.centerx+this.radius),this.centery-5),n.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var t=this.centerx-this.radius;t<this.centerx+this.radius;t+=this.radius/5)n.moveTo(Math.round(t),this.centery-3),n.lineTo(Math.round(t),this.centery+3.5);for(var t=this.centery-this.radius;t<this.centery+this.radius;t+=this.radius/5)n.moveTo(this.centerx-3,Math.round(t)),n.lineTo(this.centerx+3,Math.round(t));n.moveTo(Math.round(this.centerx),this.centery-this.radius),n.lineTo(Math.round(this.centerx),this.centery+this.radius),n.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),n.lineTo(this.centerx+5,Math.round(this.centery-this.radius)),n.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),n.lineTo(this.centerx+5,Math.round(this.centery+this.radius)),n.closePath(),n.stroke()}},this.drawRose=this.DrawRose=function(){var t=0,e=this.data,r=RGraph.degrees2Radians(s["chart.margin"]);if(n.lineWidth=s["chart.linewidth"],i.is_null(s["chart.ymax"])){for(var a=0;a<e.length;++a)t="number"==typeof e[a]?Math.max(t,e[a]):"object"==typeof e[a]&&"non-equi-angular"==s["chart.variant"]?Math.max(t,e[a][0]):Math.max(t,i.array_sum(e[a]));this.scale2=i.getScale2(this,{max:t,min:0,"scale.thousand":s["chart.scale.thousand"],"scale.point":s["chart.scale.point"],"scale.decimals":s["chart.scale.decimals"],"ylabels.count":s["chart.labels.count"],"scale.round":s["chart.scale.round"],"units.pre":s["chart.units.pre"],"units.post":s["chart.units.post"]}),this.max=this.scale2.max}else{var h=s["chart.ymax"];this.scale2=i.getScale2(this,{max:h,strict:!0,"scale.thousand":s["chart.scale.thousand"],"scale.point":s["chart.scale.point"],"scale.decimals":s["chart.scale.decimals"],"ylabels.count":s["chart.labels.count"],"scale.round":s["chart.scale.round"],"units.pre":s["chart.units.pre"],"units.post":s["chart.units.post"]}),this.max=this.scale2.max}if(this.sum=i.array_sum(e),n.moveTo(this.centerx,this.centery),n.stroke(),s["chart.colors.alpha"]&&(n.globalAlpha=s["chart.colors.alpha"]),"string"==typeof s["chart.variant"]&&"non-equi-angular"==s["chart.variant"]){for(var c=0,a=0;a<e.length;++a)c+=e[a][1];for(var a=0;a<this.data.length;++a){var l=this.data[a][1]/c*i.TWOPI,u=(this.data[a][0]-s["chart.ymin"])/(this.max-s["chart.ymin"])*this.radius;u*=s["chart.animation.grow.multiplier"],n.strokeStyle=s["chart.strokestyle"],n.fillStyle=s["chart.colors"][0],s["chart.colors.sequential"]&&(n.fillStyle=s["chart.colors"][a]),n.beginPath();var g=this.startRadians*s["chart.animation.roundrobin.factor"]-i.HALFPI+r,d=(this.startRadians+l)*s["chart.animation.roundrobin.factor"]-i.HALFPI-r,f=this.getexploded(a,g,d,s["chart.exploded"]),p=f[0],m=f[1];n.arc(this.centerx+p,this.centery+m,s["chart.animation.roundrobin.radius"]?u*s["chart.animation.roundrobin.factor"]:u,g,d,0),n.lineTo(this.centerx+p,this.centery+m),n.closePath(),n.stroke(),n.fill(),this.angles.push(gg=[g,d,0,u,this.centerx+p,this.centery+m]),this.startRadians+=l}}else for(var y=0,a=0;a<this.data.length;++a){var l=1/this.data.length*i.TWOPI;if("number"==typeof this.data[a]){n.beginPath(),n.strokeStyle=s["chart.strokestyle"],n.fillStyle=s["chart.colors"][0],s["chart.colors.sequential"]&&(n.fillStyle=s["chart.colors"][a]);var u=(this.data[a]-s["chart.ymin"])/(this.max-s["chart.ymin"])*this.radius;u*=s["chart.animation.grow.multiplier"];var g=this.startRadians*s["chart.animation.roundrobin.factor"]-i.HALFPI+r,d=this.startRadians*s["chart.animation.roundrobin.factor"]+l*s["chart.animation.roundrobin.factor"]-i.HALFPI-r,f=this.getexploded(a,g,d,s["chart.exploded"]),p=f[0],m=f[1];n.arc(this.centerx+p,this.centery+m,s["chart.animation.roundrobin.radius"]?u*s["chart.animation.roundrobin.factor"]:u,g,d,0),n.lineTo(this.centerx+p,this.centery+m),n.closePath(),n.stroke(),n.fill(),n.beginPath(),this.angles.push([g,d,0,u*s["chart.animation.roundrobin.factor"],this.centerx+p,this.centery+m])}else if("object"==typeof this.data[a]){var r=s["chart.margin"]/(180/i.PI);this.angles2[a]||(this.angles2[a]=[]);for(var v=0;v<this.data[a].length;++v){var g=this.startRadians*s["chart.animation.roundrobin.factor"]-i.HALFPI+r,d=this.startRadians*s["chart.animation.roundrobin.factor"]+l*s["chart.animation.roundrobin.factor"]-i.HALFPI-r,f=this.getexploded(a,g,d,s["chart.exploded"]),p=f[0],m=f[1];if(n.strokeStyle=s["chart.strokestyle"],n.fillStyle=s["chart.colors"][v],s["chart.colors.sequential"]&&(n.fillStyle=s["chart.colors"][y++]),0==v){n.beginPath();var b=0,R=(this.data[a][v]-s["chart.ymin"])/(this.max-s["chart.ymin"])*this.radius;R*=s["chart.animation.grow.multiplier"],n.arc(this.centerx+p,this.centery+m,s["chart.animation.roundrobin.radius"]?R*s["chart.animation.roundrobin.factor"]:R,g,d,0),n.lineTo(this.centerx+p,this.centery+m),n.closePath(),n.stroke(),n.fill(),this.angles.push([g,d,0,R*s["chart.animation.roundrobin.factor"],this.centerx+p,this.centery+m]),this.angles2[a].push([g,d,0,R*s["chart.animation.roundrobin.factor"],this.centerx+p,this.centery+m])}else{n.beginPath();var b=R,R=(this.data[a][v]-s["chart.ymin"])/(this.max-s["chart.ymin"])*this.radius+b;R*=s["chart.animation.grow.multiplier"],n.arc(this.centerx+p,this.centery+m,b*s["chart.animation.roundrobin.factor"],g,d,0),n.arc(this.centerx+p,this.centery+m,R*s["chart.animation.roundrobin.factor"],d,g,!0),n.closePath(),n.stroke(),n.fill(),this.angles.push([g,d,b*s["chart.animation.roundrobin.factor"],R*s["chart.animation.roundrobin.factor"],this.centerx+p,this.centery+m]),this.angles2[a].push([g,d,b*s["chart.animation.roundrobin.factor"],R*s["chart.animation.roundrobin.factor"],this.centerx+p,this.centery+m])}}}this.startRadians+=l}s["chart.colors.alpha"]&&(n.globalAlpha=1),s["chart.title"]&&i.DrawTitle(this,s["chart.title"],o.height/2-this.radius,this.centerx,s["chart.title.size"]?s["chart.title.size"]:s["chart.text.size"]+2)},this.drawLabels=this.DrawLabels=function(){n.lineWidth=1;var t=s["chart.key"];t&&t.length&&i.DrawKey(this,t,s["chart.colors"]),n.fillStyle=s["chart.text.color"],n.strokeStyle="black";var e=this.radius,r=s["chart.text.font"],a=s["chart.text.size"],o=s["chart.labels.axes"].toLowerCase(),h=(s["chart.scale.decimals"],s["chart.units.pre"]),c=s["chart.units.post"],l=this.centerx,u=this.centery;"object"==typeof s["chart.labels"]&&s["chart.labels"]&&this.DrawCircularLabels(n,s["chart.labels"],r,a,e+10),"number"==typeof s["chart.text.size.scale"]&&(a=s["chart.text.size.scale"]);var g="rgba(255,255,255,0.8)";if(o.indexOf("n")>-1)for(var d=0;d<s["chart.labels.count"];++d)i.Text2(this,{font:r,size:a,x:l,y:u-e*((d+1)/s["chart.labels.count"]),text:this.scale2.labels[d],valign:"center",halign:"center",bounding:!0,boundingFill:g,boundingStroke:s["chart.labels.boxed"]?"black":"rgba(0,0,0,0)",tag:"scale"});if(o.indexOf("s")>-1)for(var d=0;d<s["chart.labels.count"];++d)i.Text2(this,{font:r,size:a,x:l,y:u+e*((d+1)/s["chart.labels.count"]),text:this.scale2.labels[d],valign:"center",halign:"center",bounding:!0,boundingFill:g,boundingStroke:s["chart.labels.boxed"]?"black":"rgba(0,0,0,0)",tag:"scale"});if(o.indexOf("e")>-1)for(var d=0;d<s["chart.labels.count"];++d)i.Text2(this,{font:r,size:a,x:l+e*((d+1)/s["chart.labels.count"]),y:u,text:this.scale2.labels[d],valign:"center",halign:"center",bounding:!0,boundingFill:g,boundingStroke:s["chart.labels.boxed"]?"black":"rgba(0,0,0,0)",tag:"scale"});if(o.indexOf("w")>-1)for(var d=0;d<s["chart.labels.count"];++d)i.Text2(this,{font:r,size:a,x:l-e*((d+1)/s["chart.labels.count"]),y:u,text:this.scale2.labels[d],valign:"center",halign:"center",bounding:!0,boundingFill:g,boundingStroke:s["chart.labels.boxed"]?"black":"rgba(0,0,0,0)",tag:"scale"});o.length>0&&i.Text2(this,{font:r,size:a,x:l,y:u,text:"number"==typeof s["chart.ymin"]?i.number_format(this,Number(s["chart.ymin"]).toFixed(s["chart.scale.decimals"]),h,c):"0",valign:"center",halign:"center",bounding:!0,boundingFill:g,boundingStroke:s["chart.labels.boxed"]?"black":"rgba(0,0,0,0)",tag:"scale"})},this.drawCircularLabels=this.DrawCircularLabels=function(t,e,r,a,o){for(var n=s["chart.variant"],o=(s["chart.labels.position"],o+5+s["chart.labels.offset"]),h=this.centerx,c=this.centery,l=0;l<e.length;++l){if("string"==typeof n&&"non-equi-angular"==n)var u=Number(this.angles[l][0])+(this.angles[l][1]-this.angles[l][0])/2;else var u=i.TWOPI/e.length*(l+1)-i.TWOPI/(2*e.length),u=u-i.HALFPI+("edge"==s["chart.labels.position"]?i.TWOPI/e.length/2:0);var g=h+Math.cos(u)*o,d=c+Math.sin(u)*o;halign=g>h?"left":Math.round(g)==h?"center":"right",i.Text2(this,{font:r,size:a,x:g,y:d,text:String(e[l]),halign:halign,valign:"center",tag:"labels"})}},this.getShape=this.getSegment=function(t){i.FixEventObject(t);for(var e=this.angles,r=0;r<e.length;++r){{var a=e[r][0],o=e[r][1],h=e[r][2],c=e[r][3],l=e[r][4],u=e[r][5],g=i.getMouseXY(t);g[0]-l,g[1]-u}if(n.beginPath(),n.arc(l,u,h?h:.01,a,o,!1),n.arc(l,u,c,o,a,!0),n.closePath(),n.isPointInPath(g[0],g[1])){if(e[r][6]=r,i.parseTooltipText)var d=i.parseTooltipText(s["chart.tooltips"],e[r][6]);return e[r].object=this,e[r].x=e[r][4],e[r].y=e[r][5],e[r]["angle.start"]=e[r][0],e[r]["angle.end"]=e[r][1],e[r]["radius.start"]=e[r][2],e[r]["radius.end"]=e[r][3],e[r].index=e[r][6],e[r].tooltip=d?d:null,e[r]}}return null},this.getExploded=this.getexploded=function(t,e,r,a){var i,o;return"object"==typeof a&&"number"==typeof a[t]?(i=Math.cos((r-e)/2+e)*a[t],o=Math.sin((r-e)/2+e)*a[t]):"number"==typeof a?(i=Math.cos((r-e)/2+e)*a,o=Math.sin((r-e)/2+e)*a):(i=0,o=0),[i,o]},this.allowTooltips=this.AllowTooltips=function(){i.PreLoadTooltipImages(this),i.InstallWindowMousedownTooltipListener(this),i.InstallCanvasMousemoveTooltipListener(this),i.InstallCanvasMouseupTooltipListener(this)},this.highlight=this.Highlight=function(t){s["chart.tooltips.highlight"]&&(n.beginPath(),n.strokeStyle=s["chart.highlight.stroke"],n.fillStyle=s["chart.highlight.fill"],n.arc(t.x,t.y,t["radius.end"],t["angle.start"],t["angle.end"],!1),t["radius.start"]>0?n.arc(t.x,t.y,t["radius.start"],t["angle.end"],t["angle.start"],!0):n.lineTo(t.x,t.y),n.closePath(),n.stroke(),n.fill())},this.getObjectByXY=function(t){var e=RGraph.getMouseXY(t),r=i.getHypLength(this.centerx,this.centery,e[0],e[1]);return e[0]>this.centerx-this.radius&&e[0]<this.centerx+this.radius&&e[1]>this.centery-this.radius&&e[1]<this.centery+this.radius&&r<=this.radius?this:void 0},this.positionTooltip=function(t,e,r,a,o){var n=t.angles[o][4],s=t.angles[o][5],c=t.angles[o][0],l=t.angles[o][1],u=(t.angles[o][3]-t.angles[o][2])/2+t.angles[o][2],g=(l-c)/2+c,d=i.getCanvasXY(t.canvas),f=(this.gutterLeft,this.gutterTop,a.offsetWidth),p=a.offsetHeight;a.style.overflow="";var m=new Image;m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",m.style.position="absolute",m.id="__rgraph_tooltip_pointer__",m.style.top=a.offsetHeight-2+"px",a.appendChild(m),d[0]+n+Math.cos(g)*u-f/2<10?(a.style.left=d[0]+n+Math.cos(g)*u-.1*f+"px",a.style.top=d[1]+s+Math.sin(g)*u-p-5+"px",m.style.left=.1*f-8.5+"px"):d[0]+n+Math.cos(g)*u+f/2>h.body.offsetWidth-10?(a.style.left=d[0]+n+Math.cos(g)*u-.9*f+"px",a.style.top=d[1]+s+Math.sin(g)*u-p-5+"px",m.style.left=.9*f-8.5+"px"):(a.style.left=d[0]+n+Math.cos(g)*u-f/2+"px",a.style.top=d[1]+s+Math.sin(g)*u-p-5+"px",m.style.left=.5*f-8.5+"px")},this.getRadius=function(t){if(0>t||t>this.max)return null;var e=t/this.max*this.radius;return e},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors["chart.colors"]=i.array_clone(s["chart.colors"]),this.original_colors["chart.key.colors"]=i.array_clone(s["chart.key.colors"]),this.original_colors["chart.text.color"]=i.array_clone(s["chart.text.color"]),this.original_colors["chart.title.color"]=i.array_clone(s["chart.title.color"]),this.original_colors["chart.highlight.stroke"]=i.array_clone(s["chart.highlight.stroke"]),this.original_colors["chart.highlight.fill"]=i.array_clone(s["chart.highlight.fill"]));for(var t=0;t<s["chart.colors"].length;++t)s["chart.colors"][t]=this.parseSingleColorForGradient(s["chart.colors"][t]);if(!i.is_null(s["chart.key.colors"]))for(var t=0;t<s["chart.key.colors"].length;++t)s["chart.key.colors"][t]=this.parseSingleColorForGradient(s["chart.key.colors"][t]);s["chart.text.color"]=this.parseSingleColorForGradient(s["chart.text.color"]),s["chart.title.color"]=this.parseSingleColorForGradient(s["chart.title.color"]),s["chart.highlight.fill"]=this.parseSingleColorForGradient(s["chart.highlight.fill"]),s["chart.highlight.stroke"]=this.parseSingleColorForGradient(s["chart.highlight.stroke"])},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var e=RegExp.$1.split(":"),r=n.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),a=1/(e.length-1);r.addColorStop(0,i.trim(e[0]));for(var o=1;o<e.length;++o)r.addColorStop(o*a,i.trim(e[o]))}return r?r:t},this.interactiveKeyHighlight=function(t){for(var e=this.angles2,r=0;r<this.angles2.length;r+=1)n.beginPath(),n.lineWidth=2,n.fillStyle=s["chart.key.interactive.highlight.chart.fill"],n.strokeStyle=s["chart.key.interactive.highlight.chart.stroke"],n.arc(e[r][t][4],e[r][t][5],e[r][t][2],e[r][t][0],e[r][t][1],!1),n.arc(e[r][t][4],e[r][t][5],e[r][t][3],e[r][t][1],e[r][t][0],!0),n.closePath(),n.fill(),n.stroke()},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),this[t]=e,this},this.firstDrawFunc=function(){},this.explode=function(){function t(){l=s/n*h,e.Set("exploded",l),i.clear(o),i.redrawCanvas(o),s++<n?i.Effects.updateCanvas(t):a(e)}var e=this,r=arguments[0]||{},a=arguments[1]||function(){},n=r.frames?r.frames:30,s=0,h=c.max(o.width,o.height),l=Number(this.Get("exploded"));return t(),this},this.roundrobin=this.roundRobin=function(){function t(){i.clear(e.canvas),i.redrawCanvas(e.canvas),o++<a?(e.set("animation.roundrobin.factor",o/a),e.set("margin",o/a*n),i.Effects.updateCanvas(t)):(e.set("animation.roundrobin.factor",1),e.set("margin",n),c(e))}var e=this,r=arguments[0]||{},a=r.frames||30,o=0,n=s["chart.margin"],h=360/this.data.length/2,c=arguments[1]||function(){};return this.Set("chart.margin",h),this.Set("chart.animation.roundrobin.factor",0),t(),this},this.implode=function(){function t(){l=h-s/n*h,e.Set("exploded",l),i.clear(o),i.redrawCanvas(o),s++<n?i.Effects.updateCanvas(t):(i.clear(e.canvas),i.redrawCanvas(e.canvas),a(e))}var e=this,r=arguments[0]||{},a=arguments[1]||function(){},n=r.frames||30,s=0,h=c.max(o.width,o.height),l=h;return t(),this},this.grow=function(){function t(){e.Set("animation.grow.multiplier",s/n),i.clear(o),i.redrawCanvas(o),n>s?(s++,i.Effects.updateCanvas(t)):a(e)}var e=this,r=arguments[0]||{},a=arguments[1]||function(){},n=r.frames||30,s=0;return t(),this},i.Register(this),e&&i.parseObjectStyleConfig(this,t.options)
},RGraph=window.RGraph||{isRGraph:!0},function(t){RGraph,navigator.userAgent,Math;RGraph.installWindowMousedownListener=RGraph.InstallWindowMousedownListener=function(){RGraph.window_mousedown_event_listener||(RGraph.window_mousedown_event_listener=function(e){navigator.userAgent.indexOf("Firefox")>=0&&(t.event=e),e=RGraph.FixEventObject(e),RGraph.HideTooltip&&RGraph.Registry.Get("chart.tooltip")&&(RGraph.clear(RGraph.Registry.Get("chart.tooltip").__canvas__),RGraph.redraw(),RGraph.hideTooltip())},t.addEventListener("mousedown",RGraph.window_mousedown_event_listener,!1))},RGraph.installWindowMouseupListener=RGraph.InstallWindowMouseupListener=function(){RGraph.window_mouseup_event_listener||(RGraph.window_mouseup_event_listener=function(e){if(navigator.userAgent.indexOf("Firefox")>=0&&(t.event=e),e=RGraph.FixEventObject(e),RGraph.Annotating_window_onmouseup)return void RGraph.Annotating_window_onmouseup(e);if(RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt")){var r=RGraph.Registry.Get("chart.adjusting");r&&"line"===r.type&&(r.data_arr=RGraph.arrayLinearize(r.data)),RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend")}RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null);for(var a=document.getElementsByTagName("canvas"),i=0;i<a.length;++i)if(a[i].__object__&&a[i].__object__.isRGraph&&!a[i].__object__.Get("chart.annotatable"))if(a[i].__rgraph_trace_cover__||o)var o=!0;else RGraph.Clear(a[i]);o||RGraph.Redraw()},t.addEventListener("mouseup",RGraph.window_mouseup_event_listener,!1))},RGraph.installCanvasMouseupListener=RGraph.InstallCanvasMouseupListener=function(t){t.canvas.rgraph_mouseup_event_listener||(t.canvas.rgraph_mouseup_event_listener=function(t){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t=RGraph.FixEventObject(t);var e=RGraph.ObjectRegistry.getObjectsByXY(t);if(e)for(var r=0,a=e.length;a>r;r+=1){var i=e[r],o=(e[r].id,i.Get("link"));if("drawing.text"==i.type&&"string"==typeof o){var n=i.Get("link.target"),s=i.Get("link.options");window.open(o,n?n:null,s)}if(!RGraph.is_null(i)&&RGraph.Tooltip){var h=i.getShape(t);if(h&&h.tooltip){var c=h.tooltip;if(c){var l=h.object.type;if("line"==l||"rscatter"==l||"scatter"==l&&!i.Get("chart.boxplot")||"radar"==l)var u=RGraph.getCanvasXY(i.canvas),g=u[0]+h.x,d=u[1]+h.y;else var g=t.pageX,d=t.pageY;return RGraph.Clear(i.canvas),RGraph.Redraw(),i.Highlight(h),RGraph.Registry.Set("chart.tooltip.shape",h),RGraph.Tooltip(i,c,g,d,h.index,t),RGraph.Registry.Get("chart.tooltip")&&(RGraph.Registry.Get("chart.tooltip").__shape__=h,RGraph.EvaluateCursor(t)),t.cancelBubble=!0,t.stopPropagation(),!1}}}if((RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt"))&&(i&&"line"===i.type&&(i.data_arr=RGraph.arrayLinearize(i.data)),RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend")),RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null),h||i.overChartArea&&i.overChartArea(t))break}},t.canvas.addEventListener("mouseup",t.canvas.rgraph_mouseup_event_listener,!1))},RGraph.installCanvasMousemoveListener=RGraph.InstallCanvasMousemoveListener=function(t){t.canvas.rgraph_mousemove_event_listener||(t.canvas.rgraph_mousemove_event_listener=function(t){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t=RGraph.FixEventObject(t);var e=RGraph.ObjectRegistry.getObjectsByXY(t);if(e&&e.length>0)for(var r=0,a=e.length;a>r;r+=1){{var i=e[r];i.id}if(i.getShape){var o=i.getShape(t),n=i.Get("chart.events.mousemove");if(!n&&"function"==typeof i.onmousemove)var n=i.onmousemove;if(o){var s="scatter"==o.object.type?o.index_adjusted:o.index;if("object"==typeof i["$"+s]&&"function"==typeof i["$"+s].onmousemove)var h=i["$"+s].onmousemove}if(!o||"function"!=typeof n&&"function"!=typeof h&&"string"!=typeof i.Get("link")?"string"==typeof i.Get("chart.events.mousemove.revertto")&&(RGraph.cursor.push("default"),i.Set("chart.events.mousemove.revertto",null)):(null==i.Get("chart.events.mousemove.revertto")&&i.Set("chart.events.mousemove.revertto",t.target.style.cursor),"function"==typeof n&&n(t,o),"function"==typeof h&&h(t,o)),o&&(i.Get("chart.tooltips")&&i.Get("chart.tooltips")[o.index]||o.tooltip)&&("onmousemove"==i.Get("chart.tooltips.event")||"mousemove"==i.Get("chart.tooltips.event"))&&(RGraph.is_null(RGraph.Registry.Get("chart.tooltip"))||RGraph.Registry.Get("chart.tooltip").__index__!=o.index||"number"==typeof o.dataset&&o.dataset!=RGraph.Registry.Get("chart.tooltip").__shape__.dataset||i.uid!=RGraph.Registry.Get("chart.tooltip").__object__.uid))return RGraph.Clear(i.canvas),RGraph.Redraw(),void i.canvas.rgraph_mouseup_event_listener(t);if(i&&i.Get("chart.adjustable")&&i.Adjusting_mousemove(t),o||i.overChartArea&&i.overChartArea(t))break}}t.target&&t.target.__object__&&t.target.__object__.Get("chart.crosshairs")&&RGraph.DrawCrosshairs(t,t.target.__object__),t.target.__object__&&t.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousemove&&RGraph.Annotating_canvas_onmousemove(t),RGraph.EvaluateCursor(t)},t.canvas.addEventListener("mousemove",t.canvas.rgraph_mousemove_event_listener,!1))},RGraph.installCanvasMousedownListener=RGraph.InstallCanvasMousedownListener=function(t){t.canvas.rgraph_mousedown_event_listener||(t.canvas.rgraph_mousedown_event_listener=function(t){if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t=RGraph.FixEventObject(t),t.target.__object__&&t.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousedown)return void RGraph.Annotating_canvas_onmousedown(t);var e=RGraph.ObjectRegistry.getObjectByXY(t);if(e){{e.id}if(e&&e.isRGraph&&e.Get("chart.adjustable")){var e=RGraph.ObjectRegistry.getObjectByXY(t);if(e&&e.isRGraph){switch(e.type){case"bar":var r=e.getShapeByX(t);break;case"gantt":var r=e.getShape(t);if(r){var a=RGraph.getMouseXY(t);RGraph.Registry.Set("chart.adjusting.gantt",{index:r.index,object:e,mousex:a[0],mousey:a[1],event_start:e.data[r.index][0],event_duration:e.data[r.index][1],mode:a[0]>r.x+r.width-5?"resize":"move",shape:r})}break;case"line":var r=e.getShape(t);break;default:var r=null}RGraph.Registry.Set("chart.adjusting.shape",r),RGraph.FireCustomEvent(e,"onadjustbegin"),RGraph.Registry.Set("chart.adjusting",e),RGraph.Clear(e.canvas),RGraph.Redraw(),e.canvas.rgraph_mousemove_event_listener(t)}}RGraph.Clear(e.canvas),RGraph.Redraw()}},t.canvas.addEventListener("mousedown",t.canvas.rgraph_mousedown_event_listener,!1))},RGraph.installCanvasClickListener=RGraph.InstallCanvasClickListener=function(t){t.canvas.rgraph_click_event_listener||(t.canvas.rgraph_click_event_listener=function(t){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=t),t=RGraph.FixEventObject(t);for(var e=RGraph.ObjectRegistry.getObjectsByXY(t),r=0,a=e.length;a>r;r+=1){var i=e[r],o=(i.id,i.getShape(t)),n=i.Get("chart.events.click");if(n||"function"!=typeof i.onclick||(n=i.onclick),o&&"function"==typeof n)return void n(t,o);if(o){var s="scatter"==o.object.type?o.index_adjusted:o.index;if("number"==typeof s&&i["$"+s]){var n=i["$"+s].onclick;if("function"==typeof n)return void n(t,o)}}if(o||i.overChartArea&&i.overChartArea(t))break}},t.canvas.addEventListener("click",t.canvas.rgraph_click_event_listener,!1))},RGraph.evaluateCursor=RGraph.EvaluateCursor=function(t){for(var e=null,r=RGraph.getMouseXY(t),a=r[0],i=r[1],o=t.target,n=RGraph.ObjectRegistry.getObjectsByCanvasID(o.id),s=0,h=n.length;h>s;s+=1)if(n[s].getShape&&n[s].getShape(t)||n[s].overChartArea&&n[s].overChartArea(t)){var e=n[s];e.id}if(!RGraph.is_null(e)){if(e.getShape&&e.getShape(t)){var c=e.getShape(t);if(e.Get("chart.tooltips")){var l=RGraph.parseTooltipText(e.Get("chart.tooltips"),c.index);if(!l&&"scatter"==c.object.type&&c.index_adjusted&&(l=RGraph.parseTooltipText(e.Get("chart.tooltips"),c.index_adjusted)),l)var u=!0}}if(!RGraph.is_null(e)&&e.Get("chart.key.interactive"))for(var g=0;g<e.coords.key.length;++g)if(a>e.coords.key[g][0]&&a<e.coords.key[g][0]+e.coords.key[g][2]&&i>e.coords.key[g][1]&&i<e.coords.key[g][1]+e.coords.key[g][3])var u=!0}if(!RGraph.is_null(c)&&!RGraph.is_null(e)){if(!RGraph.is_null(e.Get("chart.events.mousemove"))&&"function"==typeof e.Get("chart.events.mousemove")){var d=e.Get("chart.events.mousemove").toString();if(d.match(/pointer/)&&d.match(/cursor/)&&d.match(/style/))var u=!0}if(!RGraph.is_null(e.onmousemove)&&"function"==typeof e.onmousemove){var d=e.onmousemove.toString();if(d.match(/pointer/)&&d.match(/cursor/)&&d.match(/style/))var u=!0}var f="scatter"==c.object.type?c.index_adjusted:c.index;if(!RGraph.is_null(e["$"+f])&&"function"==typeof e["$"+f].onmousemove){var d=e["$"+f].onmousemove.toString();if(d.match(/pointer/)&&d.match(/cursor/)&&d.match(/style/))var u=!0}}for(var n=RGraph.ObjectRegistry.objects.byCanvasID,s=0,h=n.length;h>s;s+=1)if(n[s]&&n[s][1].Get("chart.resizable"))var p=!0;p&&a>t.target.width-32&&i>t.target.height-16&&(u=!0),t.target.style.cursor=u?"pointer":"pointer"==t.target.style.cursor?"default":null,p&&a>=t.target.width-15&&i>=t.target.height-15?t.target.style.cursor="move":"move"===t.target.style.cursor&&(t.target.style.cursor="default"),"boolean"==typeof mouse_over_key&&mouse_over_key&&(t.target.style.cursor="pointer"),e&&"line"==e.type&&e.Get("chart.adjustable")&&(t.target.style.cursor=e.getShape&&e.getShape(t)?"ns-resize":"default"),t.target.__object__&&t.target.__object__.Get("chart.annotatable")&&(t.target.style.cursor="crosshair"),e&&"drawing.text"===e.type&&c&&"string"==typeof e.Get("link")&&(t.target.style.cursor="pointer")},RGraph.parseTooltipText=function(t,e){if(!t)return null;if("function"==typeof t)var r=t(e);else if("string"==typeof t)var r=t;else if("object"==typeof t&&"function"==typeof t[e])var r=t[e](e);else if("string"==typeof t[e]&&t[e])var r=t[e];else var r="";return"undefined"==r?r="":"null"==r&&(r=""),RGraph.getTooltipTextFromDIV?RGraph.getTooltipTextFromDIV(r):r},RGraph.drawCrosshairs=RGraph.DrawCrosshairs=function(t,e){var t=RGraph.FixEventObject(t),r=e.canvas.width,a=e.canvas.height,i=RGraph.getMouseXY(t),o=i[0],n=i[1],s=e.gutterLeft,h=e.gutterRight,c=e.gutterTop,l=e.gutterBottom,u=Math.round,g=e.properties,d=e.context,f=e.canvas;if(RGraph.RedrawCanvas(f),o>=s&&n>=c&&r-h>=o&&a-l>=n){var p=g["chart.crosshairs.linewidth"]?g["chart.crosshairs.linewidth"]:1;if(d.lineWidth=p?p:1,d.beginPath(),d.strokeStyle=g["chart.crosshairs.color"],g["chart.crosshairs.snap"]){var m=null,y=null,v=null;if("line"==e.type){for(var b=0;b<e.coords.length;++b){var R=RGraph.getHypLength(e.coords[b][0],e.coords[b][1],o,n);if("number"!=typeof y||y>R)var m=b,y=R}o=e.coords[m][0],n=e.coords[m][1];for(var G=0;G<e.coords2.length;++G)for(var m=0;m<e.coords2[G].length;++m)e.coords2[G][m][0]==o&&e.coords2[G][m][1]==n&&(f.__crosshairs_snap_dataset__=G,f.__crosshairs_snap_point__=m)}else{for(var b=0;b<e.coords.length;++b)for(var x=0;x<e.coords[b].length;++x){var v=RGraph.getHypLength(e.coords[b][x][0],e.coords[b][x][1],o,n);if("number"!=typeof y||y>v)var G=b,m=x,y=v}f.__crosshairs_snap_dataset__=G,f.__crosshairs_snap_point__=m,o=e.coords[G][m][0],n=e.coords[G][m][1]}}if(g["chart.crosshairs.vline"]&&(d.moveTo(u(o),u(c)),d.lineTo(u(o),u(a-l))),g["chart.crosshairs.hline"]&&(d.moveTo(u(s),u(n)),d.lineTo(u(r-h),u(n))),d.stroke(),"scatter"==e.type&&g["chart.crosshairs.coords"]){var _=(o-s)/(r-s-h)*(g["chart.xmax"]-g["chart.xmin"])+g["chart.xmin"];_=_.toFixed(g["chart.scale.decimals"]);var w=e.max-(n-g["chart.gutter.top"])/(a-c-l)*e.max;"scatter"==e.type&&"center"==e.properties["chart.xaxispos"]&&(w=2*(w-e.max/2)),w=w.toFixed(g["chart.scale.decimals"]);var k=RGraph.Registry.Get("chart.coordinates.coords.div"),i=RGraph.getMouseXY(t),j=RGraph.getCanvasXY(f);if(!k){var k=document.createElement("DIV");k.__object__=e,k.style.position="absolute",k.style.backgroundColor="white",k.style.border="1px solid black",k.style.fontFamily="Arial, Verdana, sans-serif",k.style.fontSize="10pt",k.style.padding="2px",k.style.opacity=1,k.style.WebkitBorderRadius="3px",k.style.borderRadius="3px",k.style.MozBorderRadius="3px",document.body.appendChild(k),RGraph.Registry.Set("chart.coordinates.coords.div",k)}k.style.opacity=1,k.style.display="inline",g["chart.crosshairs.coords.fixed"]?(k.style.left=j[0]+s+3+"px",k.style.top=j[1]+c+3+"px"):(k.style.left=Math.max(2,t.pageX-k.offsetWidth-3)+"px",k.style.top=Math.max(2,t.pageY-k.offsetHeight-3)+"px"),k.innerHTML='<span style="color: #666">'+g["chart.crosshairs.coords.labels.x"]+":</span> "+_+'<br><span style="color: #666">'+g["chart.crosshairs.coords.labels.y"]+":</span> "+w,e.canvas.addEventListener("mouseout",RGraph.HideCrosshairCoords,!1),f.__crosshairs_labels__=k,f.__crosshairs_x__=_,f.__crosshairs_y__=w}else g["chart.crosshairs.coords"]&&alert("[RGRAPH] Showing crosshair coordinates is only supported on the Scatter chart");RGraph.FireCustomEvent(e,"oncrosshairs")}else RGraph.HideCrosshairCoords()}}(window,document),RGraph=window.RGraph||{isRGraph:!0},RGraph.Drawing=RGraph.Drawing||{},RGraph.Drawing.Image=function(t){if("object"==typeof t&&"number"==typeof t.x&&"number"==typeof t.y&&"string"==typeof t.src&&"string"==typeof t.id)var e=t.id,r=(document.getElementById(e),t.x),a=t.y,i=t.src,o=!0;else var e=t,r=(document.getElementById(e),arguments[1]),a=arguments[2],i=arguments[3];if(this.id=e,this.canvas=document.getElementById(this.id),this.context=this.canvas.getContext("2d"),this.colorsParsed=!1,this.canvas.__object__=this,this.alignmentProcessed=!1,this.original_colors=[],this.firstDraw=!0,this.x=r,this.y=a,this.src=i,this.img=new Image,this.img.src=this.src,this.type="drawing.image",this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.properties={"chart.src":null,"chart.width":null,"chart.height":null,"chart.halign":"left","chart.valign":"top","chart.events.mousemove":null,"chart.events.click":null,"chart.shadow":!1,"chart.shadow.color":"gray","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":5,"chart.tooltips":null,"chart.tooltips.highlight":!0,"chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.alpha":1,"chart.border":!1,"chart.border.color":"black","chart.border.linewidth":1,"chart.border.radius":0,"chart.background.color":"rgba(0,0,0,0)"},!this.canvas)return void alert("[DRAWING.IMAGE] No canvas support");this.coords=[],this.$0={},this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var n=RGraph,s=this.canvas,h=s.getContext("2d"),c=this.properties,l=(jQuery,n.Path),u=(window,document),g=Math;n.Effects&&"function"==typeof n.Effects.decorate&&n.Effects.decorate(this),this.set=this.Set=function(t){var e="undefined"==typeof arguments[1]?null:arguments[1];return 1===arguments.length&&"object"==typeof t?(n.parseObjectStyleConfig(this,t),this):(t=t.toLowerCase(),"chart."!=t.substr(0,6)&&(t="chart."+t),c[t]=e,this)},this.get=this.Get=function(t){return"chart."!=t.substr(0,6)&&(t="chart."+t),c[t.toLowerCase()]},this.draw=this.Draw=function(){n.FireCustomEvent(this,"onbeforedraw");var t=this;this.img.onload=function(){if(t.colorsParsed||(t.parseColors(),t.colorsParsed=!0),t.width=this.width,t.height=this.height,!this.alignmentProcessed){var e="number"==typeof t.properties["chart.width"]&&"number"==typeof t.properties["chart.width"];"center"==t.properties["chart.halign"]?t.x-=e?t.properties["chart.width"]/2:this.width/2:"right"==t.properties["chart.halign"]&&(t.x-=e?t.properties["chart.width"]:this.width),"center"==t.properties["chart.valign"]?t.y-=e?t.properties["chart.height"]/2:this.height/2:"bottom"==t.properties["chart.valign"]&&(t.y-=e?t.properties["chart.height"]:this.height),this.alignmentProcessed=!0}},(this.img.complete||4===this.img.readyState)&&this.img.onload(),c["chart.shadow"]&&n.setShadow(this,c["chart.shadow.color"],c["chart.shadow.offsetx"],c["chart.shadow.offsety"],c["chart.shadow.blur"]);var e=h.globalAlpha;if(h.globalAlpha=c["chart.alpha"],c["chart.border"]){h.strokeStyle=c["chart.border.color"],h.lineWidth=c["chart.border.linewidth"];var r=0;(this.width||this.height)&&(r=g.min(this.width/2,this.height/2)),c["chart.width"]/2>r&&c["chart.height"]/2>r&&(r=g.min(c["chart.width"]/2,c["chart.height"]/2)),c["chart.border.radius"]<r&&(r=c["chart.border.radius"]),h.beginPath(),this.roundedRect(g.round(this.x)-g.round(h.lineWidth/2),g.round(this.y)-g.round(h.lineWidth/2),(c["chart.width"]||this.img.width)+h.lineWidth,(c["chart.height"]||this.img.height)+h.lineWidth,r)}return r?(h.save(),this.drawBackgroundColor(r),h.beginPath(),this.roundedRect(g.round(this.x)-g.round(h.lineWidth/2),g.round(this.y)-g.round(h.lineWidth/2),(c["chart.width"]||this.img.width)+h.lineWidth,(c["chart.height"]||this.img.height)+h.lineWidth,r),h.clip()):this.drawBackgroundColor(0),n.noShadow(this),"number"==typeof c["chart.height"]||"number"==typeof c["chart.width"]?h.drawImage(this.img,g.round(this.x),g.round(this.y),c["chart.width"]||this.width,c["chart.height"]||this.height):h.drawImage(this.img,g.round(this.x),g.round(this.y)),r&&h.restore(),c["chart.border"]&&(n.noShadow(this),h.stroke()),h.globalAlpha=e,this.img.onload=function(){n.redrawCanvas(s),t.coords[0]=[Math.round(t.x),Math.round(t.y),"number"==typeof c["chart.width"]?c["chart.width"]:this.width,"number"==typeof c["chart.height"]?c["chart.height"]:this.height]},n.NoShadow(this),n.InstallEventListeners(this),this.firstDraw&&(n.fireCustomEvent(this,"onfirstdraw"),this.firstDraw=!1,this.firstDrawFunc()),n.FireCustomEvent(this,"ondraw"),this},this.getObjectByXY=function(t){n.getMouseXY(t);return this.getShape(t)?this:void 0},this.getShape=function(t){{var e=n.getMouseXY(t);e[0],e[1]}return this.coords&&this.coords[0]&&e[0]>=this.coords[0][0]&&e[0]<=this.coords[0][0]+this.coords[0][2]&&e[1]>=this.coords[0][1]&&e[1]<=this.coords[0][1]+this.coords[0][3]?{0:this,1:this.coords[0][0],2:this.coords[0][1],3:this.coords[0][2],4:this.coords[0][3],5:0,object:this,x:this.coords[0][0],y:this.coords[0][1],width:this.coords[0][2],height:this.coords[0][3],index:0,tooltip:c["chart.tooltips"]?c["chart.tooltips"][0]:null}:null},this.positionTooltip=function(t,e,r,a){var i=n.getCanvasXY(t.canvas),o=a.offsetWidth,s=a.offsetHeight;a.style.left=0,a.style.top=i[1]-s-7+this.coords[0][1]+t.coords[0][3]/2+"px",a.style.overflow="";var h=new Image;h.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",h.style.position="absolute",h.id="__rgraph_tooltip_pointer__",h.style.top=a.offsetHeight-2+"px",a.appendChild(h),i[0]+t.coords[0][0]+t.coords[0][2]/2-o/2<10?(a.style.left=i[0]+this.coords[0][0]+this.coords[0][2]/2-.1*o+"px",h.style.left=.1*o-8.5+"px"):i[0]+this.coords[0][0]+this.coords[0][2]/2+o/2>u.body.offsetWidth?(a.style.left=i[0]+this.coords[0][0]+this.coords[0][2]/2-.9*o+"px",h.style.left=.9*o-8.5+"px"):(a.style.left=i[0]+this.coords[0][0]+this.coords[0][2]/2-.5*o+"px",h.style.left=.5*o-8.5+"px")},this.highlight=this.Highlight=function(){c["chart.tooltips.highlight"]&&l(h,["b","r",this.coords[0][0],this.coords[0][1],this.coords[0][2],this.coords[0][3],"f",c["chart.highlight.fill"],"s",c["chart.highlight.stroke"]])},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors["chart.highlight.stroke"]=n.array_clone(c["chart.highlight.stroke"]),this.original_colors["chart.highlight.fill"]=n.array_clone(c["chart.highlight.fill"])),c["chart.highlight.stroke"]=this.parseSingleColorForGradient(c["chart.highlight.stroke"]),c["chart.highlight.fill"]=this.parseSingleColorForGradient(c["chart.highlight.fill"])},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t)return t;if("string"==typeof t&&t.match(/^gradient\((.*)\)$/i)){var e=RegExp.$1.split(":"),r=h.createLinearGradient(this.x,this.y,this.x+this.img.width,this.y),a=1/(e.length-1);r.addColorStop(0,n.trim(e[0]));for(var i=1;i<e.length;++i)r.addColorStop(i*a,n.trim(e[i]))}return r?r:t},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),this[t]=e,this},this.firstDrawFunc=function(){},this.roundedRect=function(t,e,r,a,i){h.save(),h.translate(t,e),h.moveTo(r/2,0),h.arcTo(r,0,r,a,g.min(a/2,i)),h.arcTo(r,a,0,a,g.min(r/2,i)),h.arcTo(0,a,0,0,g.min(a/2,i)),h.arcTo(0,0,i,0,g.min(r/2,i)),h.lineTo(r/2,0),h.restore()},this.drawBackgroundColor=function(t){h.beginPath(),h.fillStyle=c["chart.background.color"],this.roundedRect(g.round(this.x)-g.round(h.lineWidth/2),g.round(this.y)-g.round(h.lineWidth/2),(c["chart.width"]||this.img.width)+h.lineWidth,(c["chart.height"]||this.img.height)+h.lineWidth,t),h.fill()},n.Register(this),o&&n.parseObjectStyleConfig(this,t.options)};